"use strict";(self.webpackChunk_jianghujs_jianghu_ui=self.webpackChunk_jianghujs_jianghu_ui||[]).push([[3299],{"./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@5.9.3_webpack@5.102.1_@swc+core@1.13.5_es_397d8c6b9860a09288c2bf2dc9668002/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/JhTableAttachment/JhTableAttachment.vue?vue&type=style&index=0&id=5113d453&prod&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n[data-v-5113d453] .jh-v-input {\n  border: 1px solid #e5e7eb;\n}\n[data-v-5113d453] .jh-v-input .v-input__slot {\n  margin: 0 !important;\n  background-color: #fff !important;\n}\n","",{version:3,sources:["webpack://./src/components/JhTableAttachment/JhTableAttachment.vue"],names:[],mappings:";AA+PA;EACA,yBAAA;AACA;AAEA;EACA,oBAAA;EACA,iCAAA;AACA",sourcesContent:['<template>\n  <v-app>\n    <v-container fluid>\n      <v-card class="px-4">\n        \x3c!-- 工具栏 --\x3e\n        <v-row class="ma-0 pt-0 d-flex">\n          <v-btn\n            v-if="showCreateButton"\n            color="success"\n            small\n            dark\n            class="elevation-0 mr-2"\n            @click="handleCreateClick"\n          >\n            新增附件\n          </v-btn>\n\n          <v-spacer></v-spacer>\n\n          <v-col cols="12" sm="6" md="3" xl="3" class="pa-0 pt-2 pt-sm-0">\n            <v-text-field\n              v-model="searchInput"\n              color="success"\n              prefix="表格过滤："\n              class="jh-v-input"\n              dense\n              filled\n              single-line\n              hide-details\n            ></v-text-field>\n          </v-col>\n        </v-row>\n\n        \x3c!-- 附件分组展示 --\x3e\n        <v-card\n          v-for="(itemList, groupName) in groupedAttachments"\n          :key="groupName"\n          outlined\n          class="my-2"\n        >\n          <v-card-title class="pl-4" style="font-size: 20px; font-weight: 500;">\n            {{ groupName }}\n          </v-card-title>\n          <v-card-text style="display: flex; flex-flow: wrap;">\n            <v-card\n              v-for="item in itemList"\n              :key="item.id"\n              width="200px"\n              class="mr-2 mb-2"\n              outlined\n            >\n              <v-img\n                :src="getPreviewUrl(item)"\n                class="white--text align-end"\n                gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"\n                height="120px"\n              >\n                <v-card-title class="text-subtitle-2">{{ item.filename }}</v-card-title>\n              </v-img>\n\n              <v-card-actions>\n                <v-chip small>{{ item.fileSubtype || getFileType(item.filename) }}</v-chip>\n                <v-spacer></v-spacer>\n\n                \x3c!-- 预览按钮 --\x3e\n                <v-btn\n                  v-if="isImage(item.downloadPath || item.filename)"\n                  icon\n                  small\n                  @click="handlePreview(item)"\n                  title="预览"\n                >\n                  <v-icon>mdi-eye</v-icon>\n                </v-btn>\n\n                \x3c!-- 下载按钮 --\x3e\n                <v-btn\n                  v-if="item.downloadPath"\n                  icon\n                  small\n                  @click="handleDownload(item)"\n                  title="下载"\n                >\n                  <v-icon>mdi-download</v-icon>\n                </v-btn>\n\n                \x3c!-- 删除按钮 --\x3e\n                <v-btn\n                  v-if="!readonly"\n                  icon\n                  small\n                  @click="handleDelete(item)"\n                  title="删除"\n                >\n                  <v-icon>mdi-trash-can-outline</v-icon>\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-card-text>\n        </v-card>\n\n        \x3c!-- 加载状态 --\x3e\n        <v-overlay absolute :value="loading" color="#fff">\n          <v-progress-circular\n            color="success"\n            indeterminate\n            size="32"\n          ></v-progress-circular>\n        </v-overlay>\n\n        \x3c!-- 空状态 --\x3e\n        <div v-if="!loading && filteredAttachments.length === 0" class="mt-5 text-center">\n          暂无附件\n        </div>\n      </v-card>\n\n      \x3c!-- 预览对话框 --\x3e\n      <v-dialog v-model="previewDialog" max-width="90vw">\n        <v-card>\n          <v-card-title>\n            {{ previewItem ? previewItem.filename : \'\' }}\n            <v-spacer></v-spacer>\n            <v-btn icon @click="previewDialog = false">\n              <v-icon>mdi-close</v-icon>\n            </v-btn>\n          </v-card-title>\n          <v-card-text class="pa-0">\n            <v-img\n              v-if="previewItem"\n              :src="getPreviewUrl(previewItem)"\n              contain\n              max-height="70vh"\n            ></v-img>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: \'JhTableAttachment\',\n  props: {\n    // 附件列表\n    attachments: {\n      type: Array,\n      default: () => []\n      /**\n       * [{\n       *   id: 1,\n       *   filename: \'文件名.jpg\',\n       *   downloadPath: \'/upload/xxx.jpg\',\n       *   fileType: \'分类名称\',\n       *   fileSubtype: \'jpg\'\n       * }]\n       */\n    },\n    // 是否显示新增按钮\n    showCreateButton: {\n      type: Boolean,\n      default: true\n    },\n    // 是否只读\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    // 分组字段名\n    groupBy: {\n      type: String,\n      default: \'fileType\'\n    },\n    // 预览路径前缀\n    previewPrefix: {\n      type: String,\n      default: \'/upload/\'\n    },\n    // 是否加载中\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      searchInput: \'\',\n      previewDialog: false,\n      previewItem: null\n    };\n  },\n  computed: {\n    filteredAttachments() {\n      if (!this.searchInput) {\n        return this.attachments;\n      }\n      return this.attachments.filter(item =>\n        item.filename.toLowerCase().includes(this.searchInput.toLowerCase()) ||\n        (item.fileType && item.fileType.toLowerCase().includes(this.searchInput.toLowerCase()))\n      );\n    },\n    groupedAttachments() {\n      const grouped = {};\n      this.filteredAttachments.forEach(item => {\n        const groupName = item[this.groupBy] || \'未分类\';\n        if (!grouped[groupName]) {\n          grouped[groupName] = [];\n        }\n        grouped[groupName].push(item);\n      });\n      return grouped;\n    }\n  },\n  methods: {\n    getPreviewUrl(item) {\n      if (item.downloadPath) {\n        return `${this.previewPrefix}${item.downloadPath}`;\n      }\n      return \'/placeholder-image.jpg\';\n    },\n    isImage(filename) {\n      if (!filename) return false;\n      return /\\.(gif|jpg|jpeg|png|webp|svg|bmp)$/i.test(filename);\n    },\n    getFileType(filename) {\n      if (!filename) return \'\';\n      const ext = filename.split(\'.\').pop();\n      return ext ? ext.toLowerCase() : \'\';\n    },\n    handleCreateClick() {\n      this.$emit(\'create-click\');\n    },\n    handlePreview(item) {\n      this.previewItem = item;\n      this.previewDialog = true;\n      this.$emit(\'preview\', item);\n    },\n    handleDownload(item) {\n      this.$emit(\'download\', item);\n      // 默认下载逻辑\n      if (item.downloadPath) {\n        const link = document.createElement(\'a\');\n        link.href = this.getPreviewUrl(item);\n        link.download = item.filename;\n        link.click();\n      }\n    },\n    handleDelete(item) {\n      this.$emit(\'delete\', item);\n    }\n  }\n};\n<\/script>\n\n<style scoped>\n:deep(.jh-v-input) {\n  border: 1px solid #e5e7eb;\n}\n\n:deep(.jh-v-input .v-input__slot) {\n  margin: 0 !important;\n  background-color: #fff !important;\n}\n</style>\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/runtime/componentNormalizer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options}}__webpack_require__.d(__webpack_exports__,{A:()=>normalizeComponent})},"./src/components/JhTableAttachment/JhTableAttachment.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomGroupBy:()=>CustomGroupBy,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JhTableAttachment_stories,仅图片:()=>仅图片,加载状态:()=>加载状态,只读模式:()=>只读模式,基础示例:()=>基础示例,空数据:()=>空数据});const JhTableAttachment_JhTableAttachmentvue_type_script_lang_js={name:"JhTableAttachment",props:{attachments:{type:Array,default:function _default(){return[]}},showCreateButton:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},groupBy:{type:String,default:"fileType"},previewPrefix:{type:String,default:"/upload/"},loading:{type:Boolean,default:!1}},data:function data(){return{searchInput:"",previewDialog:!1,previewItem:null}},computed:{filteredAttachments:function filteredAttachments(){var _this=this;return this.searchInput?this.attachments.filter(function(item){return item.filename.toLowerCase().includes(_this.searchInput.toLowerCase())||item.fileType&&item.fileType.toLowerCase().includes(_this.searchInput.toLowerCase())}):this.attachments},groupedAttachments:function groupedAttachments(){var _this2=this,grouped={};return this.filteredAttachments.forEach(function(item){var groupName=item[_this2.groupBy]||"未分类";grouped[groupName]||(grouped[groupName]=[]),grouped[groupName].push(item)}),grouped}},methods:{getPreviewUrl:function getPreviewUrl(item){return item.downloadPath?"".concat(this.previewPrefix).concat(item.downloadPath):"/placeholder-image.jpg"},isImage:function isImage(filename){return!!filename&&/\.(gif|jpg|jpeg|png|webp|svg|bmp)$/i.test(filename)},getFileType:function getFileType(filename){if(!filename)return"";var ext=filename.split(".").pop();return ext?ext.toLowerCase():""},handleCreateClick:function handleCreateClick(){this.$emit("create-click")},handlePreview:function handlePreview(item){this.previewItem=item,this.previewDialog=!0,this.$emit("preview",item)},handleDownload:function handleDownload(item){if(this.$emit("download",item),item.downloadPath){var link=document.createElement("a");link.href=this.getPreviewUrl(item),link.download=item.filename,link.click()}},handleDelete:function handleDelete(item){this.$emit("delete",item)}}};var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),JhTableAttachmentvue_type_style_index_0_id_5113d453_prod_scoped_true_lang_css=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@5.9.3_webpack@5.102.1_@swc+core@1.13.5_es_397d8c6b9860a09288c2bf2dc9668002/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/JhTableAttachment/JhTableAttachment.vue?vue&type=style&index=0&id=5113d453&prod&scoped=true&lang=css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(JhTableAttachmentvue_type_style_index_0_id_5113d453_prod_scoped_true_lang_css.A,options);JhTableAttachmentvue_type_style_index_0_id_5113d453_prod_scoped_true_lang_css.A&&JhTableAttachmentvue_type_style_index_0_id_5113d453_prod_scoped_true_lang_css.A.locals&&JhTableAttachmentvue_type_style_index_0_id_5113d453_prod_scoped_true_lang_css.A.locals;const __vuedocgen_export_0=(0,__webpack_require__("./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/runtime/componentNormalizer.js").A)(JhTableAttachment_JhTableAttachmentvue_type_script_lang_js,function render(){var _vm=this,_c=_vm._self._c;return _c("v-app",[_c("v-container",{attrs:{fluid:""}},[_c("v-card",{staticClass:"px-4"},[_c("v-row",{staticClass:"ma-0 pt-0 d-flex"},[_vm.showCreateButton?_c("v-btn",{staticClass:"elevation-0 mr-2",attrs:{color:"success",small:"",dark:""},on:{click:_vm.handleCreateClick}},[_vm._v("\n          新增附件\n        ")]):_vm._e(),_vm._v(" "),_c("v-spacer"),_vm._v(" "),_c("v-col",{staticClass:"pa-0 pt-2 pt-sm-0",attrs:{cols:"12",sm:"6",md:"3",xl:"3"}},[_c("v-text-field",{staticClass:"jh-v-input",attrs:{color:"success",prefix:"表格过滤：",dense:"",filled:"","single-line":"","hide-details":""},model:{value:_vm.searchInput,callback:function callback($$v){_vm.searchInput=$$v},expression:"searchInput"}})],1)],1),_vm._v(" "),_vm._l(_vm.groupedAttachments,function(itemList,groupName){return _c("v-card",{key:groupName,staticClass:"my-2",attrs:{outlined:""}},[_c("v-card-title",{staticClass:"pl-4",staticStyle:{"font-size":"20px","font-weight":"500"}},[_vm._v("\n          "+_vm._s(groupName)+"\n        ")]),_vm._v(" "),_c("v-card-text",{staticStyle:{display:"flex","flex-flow":"wrap"}},_vm._l(itemList,function(item){return _c("v-card",{key:item.id,staticClass:"mr-2 mb-2",attrs:{width:"200px",outlined:""}},[_c("v-img",{staticClass:"white--text align-end",attrs:{src:_vm.getPreviewUrl(item),gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"120px"}},[_c("v-card-title",{staticClass:"text-subtitle-2"},[_vm._v(_vm._s(item.filename))])],1),_vm._v(" "),_c("v-card-actions",[_c("v-chip",{attrs:{small:""}},[_vm._v(_vm._s(item.fileSubtype||_vm.getFileType(item.filename)))]),_vm._v(" "),_c("v-spacer"),_vm._v(" "),_vm.isImage(item.downloadPath||item.filename)?_c("v-btn",{attrs:{icon:"",small:"",title:"预览"},on:{click:function click($event){return _vm.handlePreview(item)}}},[_c("v-icon",[_vm._v("mdi-eye")])],1):_vm._e(),_vm._v(" "),item.downloadPath?_c("v-btn",{attrs:{icon:"",small:"",title:"下载"},on:{click:function click($event){return _vm.handleDownload(item)}}},[_c("v-icon",[_vm._v("mdi-download")])],1):_vm._e(),_vm._v(" "),_vm.readonly?_vm._e():_c("v-btn",{attrs:{icon:"",small:"",title:"删除"},on:{click:function click($event){return _vm.handleDelete(item)}}},[_c("v-icon",[_vm._v("mdi-trash-can-outline")])],1)],1)],1)}),1)],1)}),_vm._v(" "),_c("v-overlay",{attrs:{absolute:"",value:_vm.loading,color:"#fff"}},[_c("v-progress-circular",{attrs:{color:"success",indeterminate:"",size:"32"}})],1),_vm._v(" "),_vm.loading||0!==_vm.filteredAttachments.length?_vm._e():_c("div",{staticClass:"mt-5 text-center"},[_vm._v("\n        暂无附件\n      ")])],2),_vm._v(" "),_c("v-dialog",{attrs:{"max-width":"90vw"},model:{value:_vm.previewDialog,callback:function callback($$v){_vm.previewDialog=$$v},expression:"previewDialog"}},[_c("v-card",[_c("v-card-title",[_vm._v("\n          "+_vm._s(_vm.previewItem?_vm.previewItem.filename:"")+"\n          "),_c("v-spacer"),_vm._v(" "),_c("v-btn",{attrs:{icon:""},on:{click:function click($event){_vm.previewDialog=!1}}},[_c("v-icon",[_vm._v("mdi-close")])],1)],1),_vm._v(" "),_c("v-card-text",{staticClass:"pa-0"},[_vm.previewItem?_c("v-img",{attrs:{src:_vm.getPreviewUrl(_vm.previewItem),contain:"","max-height":"70vh"}}):_vm._e()],1)],1)],1)],1)],1)},[],!1,null,"5113d453",null).exports,JhTableAttachment=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"JhTableAttachment",exportName:"default",description:"",tags:{},props:[{name:"attachments",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"showCreateButton",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"readonly",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"groupBy",type:{name:"string"},defaultValue:{func:!1,value:"'fileType'"}},{name:"previewPrefix",type:{name:"string"},defaultValue:{func:!1,value:"'/upload/'"}},{name:"loading",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"create-click"},{name:"preview",type:{names:["undefined"]}},{name:"download",type:{names:["undefined"]}},{name:"delete",type:{names:["undefined"]}}],sourceFiles:["/Users/zhongchubing/Documents/work/jianghujs/jianghu-ui/src/components/JhTableAttachment/JhTableAttachment.vue"]};const JhTableAttachment_stories={parameters:{storySource:{source:"import JhTableAttachment from './JhTableAttachment.vue';\n\nexport default {\n  title: '基础组件/JhTableAttachment - 附件表格',\n  component: JhTableAttachment,\n  tags: ['autodocs'],\n  argTypes: {\n    attachments: {\n      control: 'object',\n      description: '附件列表数据',\n    },\n    showCreateButton: {\n      control: 'boolean',\n      description: '是否显示新增按钮',\n    },\n    readonly: {\n      control: 'boolean',\n      description: '是否只读模式',\n    },\n    groupBy: {\n      control: 'text',\n      description: '分组字段名',\n    },\n    previewPrefix: {\n      control: 'text',\n      description: '预览路径前缀',\n    },\n    loading: {\n      control: 'boolean',\n      description: '是否加载中',\n    },\n  },\n};\n\nconst sampleAttachments = [\n  {\n    id: 1,\n    filename: '合同文档.pdf',\n    downloadPath: 'documents/contract.pdf',\n    fileType: '合同文件',\n    fileSubtype: 'pdf'\n  },\n  {\n    id: 2,\n    filename: '产品图片1.jpg',\n    downloadPath: 'images/product1.jpg',\n    fileType: '产品图片',\n    fileSubtype: 'jpg'\n  },\n  {\n    id: 3,\n    filename: '产品图片2.png',\n    downloadPath: 'images/product2.png',\n    fileType: '产品图片',\n    fileSubtype: 'png'\n  },\n  {\n    id: 4,\n    filename: '技术文档.docx',\n    downloadPath: 'documents/tech.docx',\n    fileType: '技术资料',\n    fileSubtype: 'docx'\n  },\n  {\n    id: 5,\n    filename: '财务报表.xlsx',\n    downloadPath: 'documents/financial.xlsx',\n    fileType: '财务文件',\n    fileSubtype: 'xlsx'\n  },\n  {\n    id: 6,\n    filename: '宣传海报.jpg',\n    downloadPath: 'images/poster.jpg',\n    fileType: '产品图片',\n    fileSubtype: 'jpg'\n  },\n];\n\nexport const 基础示例 = {\n  args: {\n    attachments: sampleAttachments,\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false,\n  },\n};\n\nexport const 空数据 = {\n  args: {\n    attachments: [],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false,\n  },\n};\n\nexport const 加载状态 = {\n  args: {\n    attachments: [],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: true,\n  },\n};\n\nexport const 只读模式 = {\n  args: {\n    attachments: sampleAttachments,\n    showCreateButton: false,\n    readonly: true,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false,\n  },\n};\n\nexport const 仅图片 = {\n  args: {\n    attachments: [\n      {\n        id: 1,\n        filename: '风景照片1.jpg',\n        downloadPath: 'photos/landscape1.jpg',\n        fileType: '风景照片',\n        fileSubtype: 'jpg'\n      },\n      {\n        id: 2,\n        filename: '风景照片2.jpg',\n        downloadPath: 'photos/landscape2.jpg',\n        fileType: '风景照片',\n        fileSubtype: 'jpg'\n      },\n      {\n        id: 3,\n        filename: '人物照片1.png',\n        downloadPath: 'photos/portrait1.png',\n        fileType: '人物照片',\n        fileSubtype: 'png'\n      },\n      {\n        id: 4,\n        filename: '人物照片2.png',\n        downloadPath: 'photos/portrait2.png',\n        fileType: '人物照片',\n        fileSubtype: 'png'\n      },\n    ],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false,\n  },\n};\n\nexport const CustomGroupBy = {\n  args: {\n    attachments: [\n      {\n        id: 1,\n        filename: 'report-q1.pdf',\n        downloadPath: 'reports/q1.pdf',\n        fileType: '报告',\n        fileSubtype: 'pdf',\n        year: '2024'\n      },\n      {\n        id: 2,\n        filename: 'report-q2.pdf',\n        downloadPath: 'reports/q2.pdf',\n        fileType: '报告',\n        fileSubtype: 'pdf',\n        year: '2024'\n      },\n      {\n        id: 3,\n        filename: 'report-q1.pdf',\n        downloadPath: 'reports/2025-q1.pdf',\n        fileType: '报告',\n        fileSubtype: 'pdf',\n        year: '2025'\n      },\n    ],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'year',\n    previewPrefix: '/upload/',\n    loading: false,\n  },\n};\n",locationsMap:{基础示例:{startLoc:{col:20,line:80},endLoc:{col:1,line:89},startBody:{col:20,line:80},endBody:{col:1,line:89}},空数据:{startLoc:{col:19,line:91},endLoc:{col:1,line:100},startBody:{col:19,line:91},endBody:{col:1,line:100}},加载状态:{startLoc:{col:20,line:102},endLoc:{col:1,line:111},startBody:{col:20,line:102},endBody:{col:1,line:111}},只读模式:{startLoc:{col:20,line:113},endLoc:{col:1,line:122},startBody:{col:20,line:113},endBody:{col:1,line:122}},仅图片:{startLoc:{col:19,line:124},endLoc:{col:1,line:162},startBody:{col:19,line:124},endBody:{col:1,line:162}},"custom-group-by":{startLoc:{col:29,line:164},endLoc:{col:1,line:198},startBody:{col:29,line:164},endBody:{col:1,line:198}}}}},title:"基础组件/JhTableAttachment - 附件表格",component:JhTableAttachment,tags:["autodocs"],argTypes:{attachments:{control:"object",description:"附件列表数据"},showCreateButton:{control:"boolean",description:"是否显示新增按钮"},readonly:{control:"boolean",description:"是否只读模式"},groupBy:{control:"text",description:"分组字段名"},previewPrefix:{control:"text",description:"预览路径前缀"},loading:{control:"boolean",description:"是否加载中"}}};var sampleAttachments=[{id:1,filename:"合同文档.pdf",downloadPath:"documents/contract.pdf",fileType:"合同文件",fileSubtype:"pdf"},{id:2,filename:"产品图片1.jpg",downloadPath:"images/product1.jpg",fileType:"产品图片",fileSubtype:"jpg"},{id:3,filename:"产品图片2.png",downloadPath:"images/product2.png",fileType:"产品图片",fileSubtype:"png"},{id:4,filename:"技术文档.docx",downloadPath:"documents/tech.docx",fileType:"技术资料",fileSubtype:"docx"},{id:5,filename:"财务报表.xlsx",downloadPath:"documents/financial.xlsx",fileType:"财务文件",fileSubtype:"xlsx"},{id:6,filename:"宣传海报.jpg",downloadPath:"images/poster.jpg",fileType:"产品图片",fileSubtype:"jpg"}],基础示例={args:{attachments:sampleAttachments,showCreateButton:!0,readonly:!1,groupBy:"fileType",previewPrefix:"/upload/",loading:!1}},空数据={args:{attachments:[],showCreateButton:!0,readonly:!1,groupBy:"fileType",previewPrefix:"/upload/",loading:!1}},加载状态={args:{attachments:[],showCreateButton:!0,readonly:!1,groupBy:"fileType",previewPrefix:"/upload/",loading:!0}},只读模式={args:{attachments:sampleAttachments,showCreateButton:!1,readonly:!0,groupBy:"fileType",previewPrefix:"/upload/",loading:!1}},仅图片={args:{attachments:[{id:1,filename:"风景照片1.jpg",downloadPath:"photos/landscape1.jpg",fileType:"风景照片",fileSubtype:"jpg"},{id:2,filename:"风景照片2.jpg",downloadPath:"photos/landscape2.jpg",fileType:"风景照片",fileSubtype:"jpg"},{id:3,filename:"人物照片1.png",downloadPath:"photos/portrait1.png",fileType:"人物照片",fileSubtype:"png"},{id:4,filename:"人物照片2.png",downloadPath:"photos/portrait2.png",fileType:"人物照片",fileSubtype:"png"}],showCreateButton:!0,readonly:!1,groupBy:"fileType",previewPrefix:"/upload/",loading:!1}},CustomGroupBy={args:{attachments:[{id:1,filename:"report-q1.pdf",downloadPath:"reports/q1.pdf",fileType:"报告",fileSubtype:"pdf",year:"2024"},{id:2,filename:"report-q2.pdf",downloadPath:"reports/q2.pdf",fileType:"报告",fileSubtype:"pdf",year:"2024"},{id:3,filename:"report-q1.pdf",downloadPath:"reports/2025-q1.pdf",fileType:"报告",fileSubtype:"pdf",year:"2025"}],showCreateButton:!0,readonly:!1,groupBy:"year",previewPrefix:"/upload/",loading:!1}};基础示例.parameters={...基础示例.parameters,docs:{...基础示例.parameters?.docs,source:{originalSource:"{\n  args: {\n    attachments: sampleAttachments,\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false\n  }\n}",...基础示例.parameters?.docs?.source}}},空数据.parameters={...空数据.parameters,docs:{...空数据.parameters?.docs,source:{originalSource:"{\n  args: {\n    attachments: [],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false\n  }\n}",...空数据.parameters?.docs?.source}}},加载状态.parameters={...加载状态.parameters,docs:{...加载状态.parameters?.docs,source:{originalSource:"{\n  args: {\n    attachments: [],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: true\n  }\n}",...加载状态.parameters?.docs?.source}}},只读模式.parameters={...只读模式.parameters,docs:{...只读模式.parameters?.docs,source:{originalSource:"{\n  args: {\n    attachments: sampleAttachments,\n    showCreateButton: false,\n    readonly: true,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false\n  }\n}",...只读模式.parameters?.docs?.source}}},仅图片.parameters={...仅图片.parameters,docs:{...仅图片.parameters?.docs,source:{originalSource:"{\n  args: {\n    attachments: [{\n      id: 1,\n      filename: '风景照片1.jpg',\n      downloadPath: 'photos/landscape1.jpg',\n      fileType: '风景照片',\n      fileSubtype: 'jpg'\n    }, {\n      id: 2,\n      filename: '风景照片2.jpg',\n      downloadPath: 'photos/landscape2.jpg',\n      fileType: '风景照片',\n      fileSubtype: 'jpg'\n    }, {\n      id: 3,\n      filename: '人物照片1.png',\n      downloadPath: 'photos/portrait1.png',\n      fileType: '人物照片',\n      fileSubtype: 'png'\n    }, {\n      id: 4,\n      filename: '人物照片2.png',\n      downloadPath: 'photos/portrait2.png',\n      fileType: '人物照片',\n      fileSubtype: 'png'\n    }],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'fileType',\n    previewPrefix: '/upload/',\n    loading: false\n  }\n}",...仅图片.parameters?.docs?.source}}},CustomGroupBy.parameters={...CustomGroupBy.parameters,docs:{...CustomGroupBy.parameters?.docs,source:{originalSource:"{\n  args: {\n    attachments: [{\n      id: 1,\n      filename: 'report-q1.pdf',\n      downloadPath: 'reports/q1.pdf',\n      fileType: '报告',\n      fileSubtype: 'pdf',\n      year: '2024'\n    }, {\n      id: 2,\n      filename: 'report-q2.pdf',\n      downloadPath: 'reports/q2.pdf',\n      fileType: '报告',\n      fileSubtype: 'pdf',\n      year: '2024'\n    }, {\n      id: 3,\n      filename: 'report-q1.pdf',\n      downloadPath: 'reports/2025-q1.pdf',\n      fileType: '报告',\n      fileSubtype: 'pdf',\n      year: '2025'\n    }],\n    showCreateButton: true,\n    readonly: false,\n    groupBy: 'year',\n    previewPrefix: '/upload/',\n    loading: false\n  }\n}",...CustomGroupBy.parameters?.docs?.source}}};const __namedExportsOrder=["基础示例","空数据","加载状态","只读模式","仅图片","CustomGroupBy"]}}]);