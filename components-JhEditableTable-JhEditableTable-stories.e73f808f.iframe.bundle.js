/*! For license information please see components-JhEditableTable-JhEditableTable-stories.e73f808f.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_jianghujs_jianghu_ui=self.webpackChunk_jianghujs_jianghu_ui||[]).push([[7031],{"./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@5.9.3_webpack@5.102.1_@swc+core@1.13.5_es_397d8c6b9860a09288c2bf2dc9668002/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/JhEditableTable/JhEditableTable.vue?vue&type=style&index=0&id=52ef24ea&prod&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n.jh-editable-table[data-v-52ef24ea] {\n  width: 100%;\n}\n.jh-editable-cell[data-v-52ef24ea] {\n  min-height: 48px;\n  display: flex;\n  align-items: center;\n}\n.jh-editable-actions[data-v-52ef24ea] {\n  display: flex;\n  gap: 4px;\n  justify-content: center;\n  align-items: center;\n}\n.jh-editable-footer[data-v-52ef24ea] {\n  border-top: 1px solid rgba(0, 0, 0, 0.12);\n}\n\n/* 编辑模式下的输入框样式优化 */\n.jh-editable-table[data-v-52ef24ea] .v-text-field.v-text-field--enclosed .v-text-field__details {\n  margin-bottom: 0;\n}\n.jh-editable-table[data-v-52ef24ea] .v-input--dense > .v-input__control > .v-input__slot {\n  margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./src/components/JhEditableTable/JhEditableTable.vue"],names:[],mappings:";AA+oBA;EACA,WAAA;AACA;AAEA;EACA,gBAAA;EACA,aAAA;EACA,mBAAA;AACA;AAEA;EACA,aAAA;EACA,QAAA;EACA,uBAAA;EACA,mBAAA;AACA;AAEA;EACA,yCAAA;AACA;;AAEA,kBAAA;AACA;EACA,gBAAA;AACA;AAEA;EACA,gBAAA;AACA",sourcesContent:['<template>\n  <div class="jh-editable-table">\n    <v-data-table\n      :headers="tableHeaders"\n      :items="internalData"\n      :items-per-page="itemsPerPage"\n      :hide-default-footer="hideFooter"\n      :dense="dense"\n      :disable-sort="!sortable"\n      class="elevation-1"\n    >\n      \x3c!-- 自定义单元格渲染 --\x3e\n      <template v-for="column in editableColumns" v-slot:[`item.${column.key}`]="{ item }">\n        <div :key="column.key" class="jh-editable-cell">\n          \x3c!-- 编辑模式 --\x3e\n          <template v-if="isEditing(item)">\n            \x3c!-- 文本输入 --\x3e\n            <v-text-field\n              v-if="!column.type || column.type === \'text\'"\n              v-model="item[column.key]"\n              :label="column.label"\n              :rules="column.rules"\n              :placeholder="column.placeholder"\n              dense\n              hide-details="auto"\n              class="my-1"\n            ></v-text-field>\n\n            \x3c!-- 数字输入 --\x3e\n            <v-text-field\n              v-else-if="column.type === \'number\'"\n              v-model.number="item[column.key]"\n              :label="column.label"\n              :rules="column.rules"\n              type="number"\n              dense\n              hide-details="auto"\n              class="my-1"\n            ></v-text-field>\n\n            \x3c!-- 下拉选择 --\x3e\n            <v-select\n              v-else-if="column.type === \'select\'"\n              v-model="item[column.key]"\n              :items="column.options"\n              :label="column.label"\n              :rules="column.rules"\n              dense\n              hide-details="auto"\n              class="my-1"\n            ></v-select>\n\n            \x3c!-- 日期选择 --\x3e\n            <v-menu\n              v-else-if="column.type === \'date\'"\n              v-model="dateMenus[item._uuid + column.key]"\n              :close-on-content-click="false"\n              transition="scale-transition"\n              offset-y\n              min-width="auto"\n            >\n              <template v-slot:activator="{ on, attrs }">\n                <v-text-field\n                  v-model="item[column.key]"\n                  :label="column.label"\n                  prepend-icon="mdi-calendar"\n                  readonly\n                  dense\n                  hide-details="auto"\n                  v-bind="attrs"\n                  v-on="on"\n                  class="my-1"\n                ></v-text-field>\n              </template>\n              <v-date-picker\n                v-model="item[column.key]"\n                @input="dateMenus[item._uuid + column.key] = false"\n              ></v-date-picker>\n            </v-menu>\n\n            \x3c!-- 开关 --\x3e\n            <v-switch\n              v-else-if="column.type === \'switch\'"\n              v-model="item[column.key]"\n              :label="column.label"\n              dense\n              hide-details="auto"\n              class="my-1"\n            ></v-switch>\n\n            \x3c!-- 枚举选择 --\x3e\n            <v-select\n              v-else-if="column.type === \'enum\' && column.enum"\n              v-model="item[column.key]"\n              :items="getEnumOptions(column.enum)"\n              :label="column.label"\n              :rules="column.rules"\n              dense\n              hide-details="auto"\n              class="my-1"\n            ></v-select>\n          </template>\n\n          \x3c!-- 显示模式 --\x3e\n          <template v-else>\n            \x3c!-- 自定义渲染 --\x3e\n            <slot\n              v-if="$scopedSlots[`cell.${column.key}`]"\n              :name="`cell.${column.key}`"\n              :item="item"\n              :value="item[column.key]"\n            ></slot>\n\n            \x3c!-- 默认显示 --\x3e\n            <span v-else>\n              \x3c!-- 枚举类型 --\x3e\n              <v-chip\n                v-if="column.type === \'enum\' && column.enum"\n                :color="column.enum[item[column.key]]?.color"\n                small\n              >\n                {{ column.enum[item[column.key]]?.text || item[column.key] }}\n              </v-chip>\n\n              \x3c!-- 开关显示 --\x3e\n              <v-icon v-else-if="column.type === \'switch\'" :color="item[column.key] ? \'success\' : \'grey\'">\n                {{ item[column.key] ? \'mdi-check-circle\' : \'mdi-circle-outline\' }}\n              </v-icon>\n\n              \x3c!-- 普通文本 --\x3e\n              <span v-else>{{ item[column.key] }}</span>\n            </span>\n          </template>\n        </div>\n      </template>\n\n      \x3c!-- 操作列 --\x3e\n      <template v-slot:[`item.actions`]="{ item }">\n        <div class="jh-editable-actions">\n          \x3c!-- 编辑状态按钮 --\x3e\n          <template v-if="isEditing(item)">\n            <v-btn\n              icon\n              small\n              color="success"\n              @click="handleSave(item)"\n              title="保存"\n            >\n              <v-icon small>mdi-check</v-icon>\n            </v-btn>\n            <v-btn\n              icon\n              small\n              color="error"\n              @click="handleCancel(item)"\n              title="取消"\n            >\n              <v-icon small>mdi-close</v-icon>\n            </v-btn>\n          </template>\n\n          \x3c!-- 显示状态按钮 --\x3e\n          <template v-else>\n            <v-btn\n              v-if="editable"\n              icon\n              small\n              color="primary"\n              @click="handleEdit(item)"\n              title="编辑"\n            >\n              <v-icon small>mdi-pencil</v-icon>\n            </v-btn>\n            <v-btn\n              v-if="deletable"\n              icon\n              small\n              color="error"\n              @click="handleDelete(item)"\n              title="删除"\n            >\n              <v-icon small>mdi-delete</v-icon>\n            </v-btn>\n\n            \x3c!-- 自定义操作按钮 --\x3e\n            <slot name="actions" :item="item"></slot>\n          </template>\n        </div>\n      </template>\n\n      \x3c!-- 底部插槽 - 新增按钮 --\x3e\n      <template v-slot:footer v-if="recordCreator">\n        <div class="jh-editable-footer pa-3">\n          <v-btn\n            color="primary"\n            small\n            @click="handleAddRow"\n            :disabled="hasEditingRow"\n          >\n            <v-icon small left>mdi-plus</v-icon>\n            {{ recordCreatorProps.creatorButtonText || \'添加一行数据\' }}\n          </v-btn>\n        </div>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \'JhEditableTable\',\n\n  props: {\n    // 表格数据 (v-model)\n    value: {\n      type: Array,\n      default: () => [],\n    },\n\n    // 列配置\n    columns: {\n      type: Array,\n      required: true,\n      // 列配置示例：\n      // [{\n      //   key: \'name\',\n      //   label: \'姓名\',\n      //   type: \'text\', // text | number | select | date | switch | enum\n      //   editable: true,\n      //   rules: [(v) => !!v || \'必填\'],\n      //   options: [], // select 类型的选项\n      //   enum: {}, // enum 类型的映射\n      //   placeholder: \'\',\n      // }]\n    },\n\n    // 是否可编辑\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n\n    // 是否可删除\n    deletable: {\n      type: Boolean,\n      default: true,\n    },\n\n    // 是否显示新增按钮\n    recordCreator: {\n      type: Boolean,\n      default: true,\n    },\n\n    // 新增按钮配置\n    recordCreatorProps: {\n      type: Object,\n      default: () => ({\n        creatorButtonText: \'添加一行数据\',\n        record: {},\n      }),\n    },\n\n    // 每页显示数量\n    itemsPerPage: {\n      type: Number,\n      default: -1, // -1 表示显示全部\n    },\n\n    // 是否隐藏底部分页\n    hideFooter: {\n      type: Boolean,\n      default: true,\n    },\n\n    // 是否紧凑模式\n    dense: {\n      type: Boolean,\n      default: false,\n    },\n\n    // 是否可排序\n    sortable: {\n      type: Boolean,\n      default: false,\n    },\n\n    // 行唯一标识字段\n    rowKey: {\n      type: String,\n      default: \'id\',\n    },\n\n    // 可编辑类型 (EditableProTable 风格)\n    editableType: {\n      type: String,\n      default: \'multiple\', // single | multiple\n      validator: (v) => [\'single\', \'multiple\'].includes(v),\n    },\n\n    // 最大行数\n    maxRows: {\n      type: Number,\n      default: Infinity,\n    },\n\n    // 值变化回调\n    onValuesChange: {\n      type: Function,\n      default: null,\n    },\n\n    // 添加行前守卫\n    beforeAddRow: {\n      type: Function,\n      default: null,\n    },\n\n    // 删除行前守卫\n    beforeRemoveRow: {\n      type: Function,\n      default: null,\n    },\n\n    // 自定义操作渲染\n    actionRender: {\n      type: Function,\n      default: null,\n    },\n\n    // 受控模式的编辑行keys\n    editableKeys: {\n      type: Array,\n      default: null,\n    },\n\n    // 保存数据时的回调\n    onSave: {\n      type: Function,\n      default: null,\n    },\n\n    // 删除数据时的回调\n    onDelete: {\n      type: Function,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      internalData: [],\n      editingKeys: new Set(), // 正在编辑的行的 key 集合\n      originalData: new Map(), // 保存原始数据用于取消操作\n      dateMenus: {}, // 日期选择器菜单状态\n    };\n  },\n\n  computed: {\n    // 可编辑的列\n    editableColumns() {\n      return this.columns.filter(col => col.editable !== false);\n    },\n\n    // 表头配置\n    tableHeaders() {\n      const headers = this.columns.map(col => ({\n        text: col.label || col.key,\n        value: col.key,\n        sortable: col.sortable !== false && this.sortable,\n        width: col.width,\n        align: col.align || \'start\',\n      }));\n\n      // 添加操作列\n      if (this.editable || this.deletable || this.$scopedSlots.actions) {\n        headers.push({\n          text: \'操作\',\n          value: \'actions\',\n          sortable: false,\n          width: 120,\n          align: \'center\',\n        });\n      }\n\n      return headers;\n    },\n\n    // 是否有正在编辑的行\n    hasEditingRow() {\n      return this.editingKeys.size > 0;\n    },\n  },\n\n  watch: {\n    value: {\n      handler(newVal) {\n        this.initInternalData(newVal);\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n\n  methods: {\n    // 初始化内部数据\n    initInternalData(data) {\n      this.internalData = data.map(item => {\n        // 为每行添加唯一标识\n        if (!item._uuid) {\n          item._uuid = this.generateUUID();\n        }\n        return { ...item };\n      });\n    },\n\n    // 生成 UUID\n    generateUUID() {\n      return \'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, (c) => {\n        const r = Math.random() * 16 | 0;\n        const v = c === \'x\' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n      });\n    },\n\n    // 获取行的唯一标识\n    getRowKey(item) {\n      return item._uuid || item[this.rowKey];\n    },\n\n    // 判断行是否在编辑状态\n    isEditing(item) {\n      return this.editingKeys.has(this.getRowKey(item));\n    },\n\n    // 将 enum 对象转换为 v-select 选项\n    getEnumOptions(enumObj) {\n      return Object.keys(enumObj).map(key => ({\n        text: enumObj[key].text || key,\n        value: key,\n      }));\n    },\n\n    // 开始编辑行\n    async handleEdit(item) {\n      const key = this.getRowKey(item);\n\n      // single 模式下，关闭其他编辑行\n      if (this.editableType === \'single\' && this.editingKeys.size > 0) {\n        const currentKey = Array.from(this.editingKeys)[0];\n        const currentItem = this.internalData.find(row => this.getRowKey(row) === currentKey);\n        if (currentItem) {\n          await this.handleCancel(currentItem);\n        }\n      }\n\n      // 保存原始数据\n      this.originalData.set(key, { ...item });\n\n      // 添加到编辑集合\n      this.editingKeys.add(key);\n\n      this.$emit(\'edit\', item);\n      this.$emit(\'update:editableKeys\', Array.from(this.editingKeys));\n    },\n\n    // 保存行\n    async handleSave(item) {\n      const key = this.getRowKey(item);\n\n      // 验证数据\n      if (!this.validateRow(item)) {\n        return;\n      }\n\n      // 执行保存回调\n      if (this.onSave) {\n        const result = await this.onSave(key, item, this.originalData.get(key));\n        if (result === false) return;\n      }\n\n      // 从编辑集合中移除\n      this.editingKeys.delete(key);\n      this.originalData.delete(key);\n\n      // 更新父组件数据\n      this.syncToParent();\n\n      this.$emit(\'save\', item);\n      this.$emit(\'change\', this.internalData);\n      this.$emit(\'update:editableKeys\', Array.from(this.editingKeys));\n      \n      // 触发值变化回调\n      if (this.onValuesChange) {\n        this.onValuesChange(item, this.internalData);\n      }\n    },\n\n    // 取消编辑\n    handleCancel(item) {\n      const key = this.getRowKey(item);\n\n      // 如果是新增的行，直接删除\n      if (item._isNew) {\n        const index = this.internalData.findIndex(row => this.getRowKey(row) === key);\n        if (index > -1) {\n          this.internalData.splice(index, 1);\n        }\n      } else {\n        // 恢复原始数据\n        const originalItem = this.originalData.get(key);\n        if (originalItem) {\n          const index = this.internalData.findIndex(row => this.getRowKey(row) === key);\n          if (index > -1) {\n            this.internalData.splice(index, 1, { ...originalItem });\n          }\n        }\n      }\n\n      // 从编辑集合中移除\n      this.editingKeys.delete(key);\n      this.originalData.delete(key);\n\n      // 更新父组件数据\n      this.syncToParent();\n\n      this.$emit(\'cancel\', item);\n    },\n\n    // 删除行\n    async handleDelete(item) {\n      const key = this.getRowKey(item);\n      const index = this.internalData.findIndex(row => this.getRowKey(row) === key);\n\n      // 执行删除前守卫\n      if (this.beforeRemoveRow) {\n        const canDelete = await this.beforeRemoveRow(item, index);\n        if (canDelete === false) return;\n      }\n\n      // 执行删除回调\n      if (this.onDelete) {\n        const result = await this.onDelete(key, item);\n        if (result === false) return;\n      }\n\n      if (index > -1) {\n        this.internalData.splice(index, 1);\n\n        // 更新父组件数据\n        this.syncToParent();\n\n        this.$emit(\'delete\', item, index);\n        this.$emit(\'change\', this.internalData);\n      }\n    },\n\n    // 添加新行\n    async handleAddRow() {\n      // 检查最大行数限制\n      if (this.internalData.length >= this.maxRows) {\n        this.$emit(\'max-rows\', this.maxRows);\n        return;\n      }\n\n      // 执行添加前守卫\n      if (this.beforeAddRow) {\n        const canAdd = await this.beforeAddRow();\n        if (canAdd === false) return;\n      }\n\n      const newRow = {\n        _uuid: this.generateUUID(),\n        _isNew: true,\n        ...this.recordCreatorProps.record,\n      };\n\n      // 初始化列的默认值\n      this.columns.forEach(col => {\n        if (col.key && newRow[col.key] === undefined) {\n          if (col.type === \'switch\') {\n            newRow[col.key] = false;\n          } else if (col.type === \'number\') {\n            newRow[col.key] = 0;\n          } else {\n            newRow[col.key] = \'\';\n          }\n        }\n      });\n\n      this.internalData.push(newRow);\n\n      // 立即进入编辑状态\n      this.$nextTick(() => {\n        this.handleEdit(newRow);\n      });\n\n      this.$emit(\'add\', newRow);\n    },\n\n    // 验证行数据\n    validateRow(item) {\n      // 简单验证：检查必填字段\n      for (const col of this.columns) {\n        if (col.rules && col.editable !== false) {\n          for (const rule of col.rules) {\n            const result = rule(item[col.key]);\n            if (typeof result === \'string\') {\n              // 验证失败\n              this.$emit(\'validation-error\', { item, column: col, message: result });\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    },\n\n    // 同步到父组件\n    syncToParent() {\n      // 移除内部标识字段\n      const cleanData = this.internalData.map(item => {\n        const { _uuid, _isNew, ...rest } = item;\n        return rest;\n      });\n\n      this.$emit(\'input\', cleanData);\n    },\n\n    // 公共方法：获取当前数据\n    getData() {\n      return this.internalData.map(item => {\n        const { _uuid, _isNew, ...rest } = item;\n        return rest;\n      });\n    },\n\n    // 公共方法：设置数据\n    setData(data) {\n      this.initInternalData(data);\n      this.syncToParent();\n    },\n\n    // 公共方法：清空数据\n    clearData() {\n      this.internalData = [];\n      this.editingKeys.clear();\n      this.originalData.clear();\n      this.syncToParent();\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n.jh-editable-table {\n  width: 100%;\n}\n\n.jh-editable-cell {\n  min-height: 48px;\n  display: flex;\n  align-items: center;\n}\n\n.jh-editable-actions {\n  display: flex;\n  gap: 4px;\n  justify-content: center;\n  align-items: center;\n}\n\n.jh-editable-footer {\n  border-top: 1px solid rgba(0, 0, 0, 0.12);\n}\n\n/* 编辑模式下的输入框样式优化 */\n.jh-editable-table >>> .v-text-field.v-text-field--enclosed .v-text-field__details {\n  margin-bottom: 0;\n}\n\n.jh-editable-table >>> .v-input--dense > .v-input__control > .v-input__slot {\n  margin-bottom: 0;\n}\n</style>\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/runtime/componentNormalizer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options}}__webpack_require__.d(__webpack_exports__,{A:()=>normalizeComponent})},"./src/components/JhEditableTable/JhEditableTable.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>JhEditableTable_stories,只读模式:()=>只读模式,基础示例:()=>基础示例,多种字段类型:()=>多种字段类型,完整功能演示:()=>完整功能演示,紧凑模式:()=>紧凑模式,自定义单元格渲染:()=>自定义单元格渲染,自定义新增按钮:()=>自定义新增按钮});var _excluded=["_uuid","_isNew"],_excluded2=["_uuid","_isNew"];function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(c.prototype);return _regeneratorDefine2(u,"_invoke",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0))}if(o||r>1)return a;throw y=!0,n}return function(o,p,l){if(f>1)throw TypeError("Generator is already running");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break}catch(t){i=e,c=1,u=t}finally{f=1}}return{value:t,done:y}}}(r,o,i),!0),u}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,function(){return this}),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(u,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,o,"GeneratorFunction"),_regeneratorDefine2(u),_regeneratorDefine2(u,o,"Generator"),_regeneratorDefine2(u,n,function(){return this}),_regeneratorDefine2(u,"toString",function(){return"[object Generator]"}),(_regenerator=function _regenerator(){return{w:i,m:f}})()}function _regeneratorDefine2(e,r,n,t){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}_regeneratorDefine2=function _regeneratorDefine(e,r,n,t){function o(r,n){_regeneratorDefine2(e,r,function(e){return this._invoke(r,n,e)})}r?i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,r,n,t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const JhEditableTable_JhEditableTablevue_type_script_lang_js={name:"JhEditableTable",props:{value:{type:Array,default:function _default(){return[]}},columns:{type:Array,required:!0},editable:{type:Boolean,default:!0},deletable:{type:Boolean,default:!0},recordCreator:{type:Boolean,default:!0},recordCreatorProps:{type:Object,default:function _default(){return{creatorButtonText:"添加一行数据",record:{}}}},itemsPerPage:{type:Number,default:-1},hideFooter:{type:Boolean,default:!0},dense:{type:Boolean,default:!1},sortable:{type:Boolean,default:!1},rowKey:{type:String,default:"id"},editableType:{type:String,default:"multiple",validator:function validator(v){return["single","multiple"].includes(v)}},maxRows:{type:Number,default:1/0},onValuesChange:{type:Function,default:null},beforeAddRow:{type:Function,default:null},beforeRemoveRow:{type:Function,default:null},actionRender:{type:Function,default:null},editableKeys:{type:Array,default:null},onSave:{type:Function,default:null},onDelete:{type:Function,default:null}},data:function data(){return{internalData:[],editingKeys:new Set,originalData:new Map,dateMenus:{}}},computed:{editableColumns:function editableColumns(){return this.columns.filter(function(col){return!1!==col.editable})},tableHeaders:function tableHeaders(){var _this=this,headers=this.columns.map(function(col){return{text:col.label||col.key,value:col.key,sortable:!1!==col.sortable&&_this.sortable,width:col.width,align:col.align||"start"}});return(this.editable||this.deletable||this.$scopedSlots.actions)&&headers.push({text:"操作",value:"actions",sortable:!1,width:120,align:"center"}),headers},hasEditingRow:function hasEditingRow(){return this.editingKeys.size>0}},watch:{value:{handler:function handler(newVal){this.initInternalData(newVal)},immediate:!0,deep:!0}},methods:{initInternalData:function initInternalData(data){var _this2=this;this.internalData=data.map(function(item){return item._uuid||(item._uuid=_this2.generateUUID()),_objectSpread({},item)})},generateUUID:function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})},getRowKey:function getRowKey(item){return item._uuid||item[this.rowKey]},isEditing:function isEditing(item){return this.editingKeys.has(this.getRowKey(item))},getEnumOptions:function getEnumOptions(enumObj){return Object.keys(enumObj).map(function(key){return{text:enumObj[key].text||key,value:key}})},handleEdit:function handleEdit(item){var _this3=this;return _asyncToGenerator(_regenerator().m(function _callee(){var key,currentKey,currentItem;return _regenerator().w(function(_context){for(;;)switch(_context.n){case 0:if(key=_this3.getRowKey(item),!("single"===_this3.editableType&&_this3.editingKeys.size>0)){_context.n=1;break}if(currentKey=Array.from(_this3.editingKeys)[0],!(currentItem=_this3.internalData.find(function(row){return _this3.getRowKey(row)===currentKey}))){_context.n=1;break}return _context.n=1,_this3.handleCancel(currentItem);case 1:_this3.originalData.set(key,_objectSpread({},item)),_this3.editingKeys.add(key),_this3.$emit("edit",item),_this3.$emit("update:editableKeys",Array.from(_this3.editingKeys));case 2:return _context.a(2)}},_callee)}))()},handleSave:function handleSave(item){var _this4=this;return _asyncToGenerator(_regenerator().m(function _callee2(){var key;return _regenerator().w(function(_context2){for(;;)switch(_context2.n){case 0:if(key=_this4.getRowKey(item),_this4.validateRow(item)){_context2.n=1;break}return _context2.a(2);case 1:if(!_this4.onSave){_context2.n=3;break}return _context2.n=2,_this4.onSave(key,item,_this4.originalData.get(key));case 2:if(!1!==_context2.v){_context2.n=3;break}return _context2.a(2);case 3:_this4.editingKeys.delete(key),_this4.originalData.delete(key),_this4.syncToParent(),_this4.$emit("save",item),_this4.$emit("change",_this4.internalData),_this4.$emit("update:editableKeys",Array.from(_this4.editingKeys)),_this4.onValuesChange&&_this4.onValuesChange(item,_this4.internalData);case 4:return _context2.a(2)}},_callee2)}))()},handleCancel:function handleCancel(item){var _this5=this,key=this.getRowKey(item);if(item._isNew){var index=this.internalData.findIndex(function(row){return _this5.getRowKey(row)===key});index>-1&&this.internalData.splice(index,1)}else{var originalItem=this.originalData.get(key);if(originalItem){var _index=this.internalData.findIndex(function(row){return _this5.getRowKey(row)===key});_index>-1&&this.internalData.splice(_index,1,_objectSpread({},originalItem))}}this.editingKeys.delete(key),this.originalData.delete(key),this.syncToParent(),this.$emit("cancel",item)},handleDelete:function handleDelete(item){var _this6=this;return _asyncToGenerator(_regenerator().m(function _callee3(){var key,index;return _regenerator().w(function(_context3){for(;;)switch(_context3.n){case 0:if(key=_this6.getRowKey(item),index=_this6.internalData.findIndex(function(row){return _this6.getRowKey(row)===key}),!_this6.beforeRemoveRow){_context3.n=2;break}return _context3.n=1,_this6.beforeRemoveRow(item,index);case 1:if(!1!==_context3.v){_context3.n=2;break}return _context3.a(2);case 2:if(!_this6.onDelete){_context3.n=4;break}return _context3.n=3,_this6.onDelete(key,item);case 3:if(!1!==_context3.v){_context3.n=4;break}return _context3.a(2);case 4:index>-1&&(_this6.internalData.splice(index,1),_this6.syncToParent(),_this6.$emit("delete",item,index),_this6.$emit("change",_this6.internalData));case 5:return _context3.a(2)}},_callee3)}))()},handleAddRow:function handleAddRow(){var _this7=this;return _asyncToGenerator(_regenerator().m(function _callee4(){var newRow;return _regenerator().w(function(_context4){for(;;)switch(_context4.n){case 0:if(!(_this7.internalData.length>=_this7.maxRows)){_context4.n=1;break}return _this7.$emit("max-rows",_this7.maxRows),_context4.a(2);case 1:if(!_this7.beforeAddRow){_context4.n=3;break}return _context4.n=2,_this7.beforeAddRow();case 2:if(!1!==_context4.v){_context4.n=3;break}return _context4.a(2);case 3:newRow=_objectSpread({_uuid:_this7.generateUUID(),_isNew:!0},_this7.recordCreatorProps.record),_this7.columns.forEach(function(col){col.key&&void 0===newRow[col.key]&&("switch"===col.type?newRow[col.key]=!1:"number"===col.type?newRow[col.key]=0:newRow[col.key]="")}),_this7.internalData.push(newRow),_this7.$nextTick(function(){_this7.handleEdit(newRow)}),_this7.$emit("add",newRow);case 4:return _context4.a(2)}},_callee4)}))()},validateRow:function validateRow(item){var _step,_iterator=_createForOfIteratorHelper(this.columns);try{for(_iterator.s();!(_step=_iterator.n()).done;){var col=_step.value;if(col.rules&&!1!==col.editable){var _step2,_iterator2=_createForOfIteratorHelper(col.rules);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var result=(0,_step2.value)(item[col.key]);if("string"==typeof result)return this.$emit("validation-error",{item,column:col,message:result}),!1}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!0},syncToParent:function syncToParent(){var cleanData=this.internalData.map(function(item){item._uuid,item._isNew;return _objectWithoutProperties(item,_excluded)});this.$emit("input",cleanData)},getData:function getData(){return this.internalData.map(function(item){item._uuid,item._isNew;return _objectWithoutProperties(item,_excluded2)})},setData:function setData(data){this.initInternalData(data),this.syncToParent()},clearData:function clearData(){this.internalData=[],this.editingKeys.clear(),this.originalData.clear(),this.syncToParent()}}};var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),JhEditableTablevue_type_style_index_0_id_52ef24ea_prod_scoped_true_lang_css=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@5.9.3_webpack@5.102.1_@swc+core@1.13.5_es_397d8c6b9860a09288c2bf2dc9668002/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/JhEditableTable/JhEditableTable.vue?vue&type=style&index=0&id=52ef24ea&prod&scoped=true&lang=css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(JhEditableTablevue_type_style_index_0_id_52ef24ea_prod_scoped_true_lang_css.A,options);JhEditableTablevue_type_style_index_0_id_52ef24ea_prod_scoped_true_lang_css.A&&JhEditableTablevue_type_style_index_0_id_52ef24ea_prod_scoped_true_lang_css.A.locals&&JhEditableTablevue_type_style_index_0_id_52ef24ea_prod_scoped_true_lang_css.A.locals;const __vuedocgen_export_0=(0,__webpack_require__("./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/runtime/componentNormalizer.js").A)(JhEditableTable_JhEditableTablevue_type_script_lang_js,function render(){var _vm=this,_c=_vm._self._c;return _c("div",{staticClass:"jh-editable-table"},[_c("v-data-table",{staticClass:"elevation-1",attrs:{headers:_vm.tableHeaders,items:_vm.internalData,"items-per-page":_vm.itemsPerPage,"hide-default-footer":_vm.hideFooter,dense:_vm.dense,"disable-sort":!_vm.sortable},scopedSlots:_vm._u([_vm._l(_vm.editableColumns,function(column){return{key:"item.".concat(column.key),fn:function fn(_ref){var _column$enum$item$col,_column$enum$item$col2,item=_ref.item;return[_c("div",{key:column.key,staticClass:"jh-editable-cell"},[_vm.isEditing(item)?[column.type&&"text"!==column.type?"number"===column.type?_c("v-text-field",{staticClass:"my-1",attrs:{label:column.label,rules:column.rules,type:"number",dense:"","hide-details":"auto"},model:{value:item[column.key],callback:function callback($$v){_vm.$set(item,column.key,_vm._n($$v))},expression:"item[column.key]"}}):"select"===column.type?_c("v-select",{staticClass:"my-1",attrs:{items:column.options,label:column.label,rules:column.rules,dense:"","hide-details":"auto"},model:{value:item[column.key],callback:function callback($$v){_vm.$set(item,column.key,$$v)},expression:"item[column.key]"}}):"date"===column.type?_c("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:_vm._u([{key:"activator",fn:function fn(_ref2){var on=_ref2.on,attrs=_ref2.attrs;return[_c("v-text-field",_vm._g(_vm._b({staticClass:"my-1",attrs:{label:column.label,"prepend-icon":"mdi-calendar",readonly:"",dense:"","hide-details":"auto"},model:{value:item[column.key],callback:function callback($$v){_vm.$set(item,column.key,$$v)},expression:"item[column.key]"}},"v-text-field",attrs,!1),on))]}}],null,!0),model:{value:_vm.dateMenus[item._uuid+column.key],callback:function callback($$v){_vm.$set(_vm.dateMenus,item._uuid+column.key,$$v)},expression:"dateMenus[item._uuid + column.key]"}},[_vm._v(" "),_c("v-date-picker",{on:{input:function input($event){_vm.dateMenus[item._uuid+column.key]=!1}},model:{value:item[column.key],callback:function callback($$v){_vm.$set(item,column.key,$$v)},expression:"item[column.key]"}})],1):"switch"===column.type?_c("v-switch",{staticClass:"my-1",attrs:{label:column.label,dense:"","hide-details":"auto"},model:{value:item[column.key],callback:function callback($$v){_vm.$set(item,column.key,$$v)},expression:"item[column.key]"}}):"enum"===column.type&&column.enum?_c("v-select",{staticClass:"my-1",attrs:{items:_vm.getEnumOptions(column.enum),label:column.label,rules:column.rules,dense:"","hide-details":"auto"},model:{value:item[column.key],callback:function callback($$v){_vm.$set(item,column.key,$$v)},expression:"item[column.key]"}}):_vm._e():_c("v-text-field",{staticClass:"my-1",attrs:{label:column.label,rules:column.rules,placeholder:column.placeholder,dense:"","hide-details":"auto"},model:{value:item[column.key],callback:function callback($$v){_vm.$set(item,column.key,$$v)},expression:"item[column.key]"}})]:[_vm.$scopedSlots["cell.".concat(column.key)]?_vm._t("cell.".concat(column.key),null,{item,value:item[column.key]}):_c("span",["enum"===column.type&&column.enum?_c("v-chip",{attrs:{color:null===(_column$enum$item$col=column.enum[item[column.key]])||void 0===_column$enum$item$col?void 0:_column$enum$item$col.color,small:""}},[_vm._v("\n              "+_vm._s((null===(_column$enum$item$col2=column.enum[item[column.key]])||void 0===_column$enum$item$col2?void 0:_column$enum$item$col2.text)||item[column.key])+"\n            ")]):"switch"===column.type?_c("v-icon",{attrs:{color:item[column.key]?"success":"grey"}},[_vm._v("\n              "+_vm._s(item[column.key]?"mdi-check-circle":"mdi-circle-outline")+"\n            ")]):_c("span",[_vm._v(_vm._s(item[column.key]))])],1)]],2)]}}}),{key:"item.actions",fn:function fn(_ref3){var item=_ref3.item;return[_c("div",{staticClass:"jh-editable-actions"},[_vm.isEditing(item)?[_c("v-btn",{attrs:{icon:"",small:"",color:"success",title:"保存"},on:{click:function click($event){return _vm.handleSave(item)}}},[_c("v-icon",{attrs:{small:""}},[_vm._v("mdi-check")])],1),_vm._v(" "),_c("v-btn",{attrs:{icon:"",small:"",color:"error",title:"取消"},on:{click:function click($event){return _vm.handleCancel(item)}}},[_c("v-icon",{attrs:{small:""}},[_vm._v("mdi-close")])],1)]:[_vm.editable?_c("v-btn",{attrs:{icon:"",small:"",color:"primary",title:"编辑"},on:{click:function click($event){return _vm.handleEdit(item)}}},[_c("v-icon",{attrs:{small:""}},[_vm._v("mdi-pencil")])],1):_vm._e(),_vm._v(" "),_vm.deletable?_c("v-btn",{attrs:{icon:"",small:"",color:"error",title:"删除"},on:{click:function click($event){return _vm.handleDelete(item)}}},[_c("v-icon",{attrs:{small:""}},[_vm._v("mdi-delete")])],1):_vm._e(),_vm._v(" "),_vm._t("actions",null,{item})]],2)]}},_vm.recordCreator?{key:"footer",fn:function fn(){return[_c("div",{staticClass:"jh-editable-footer pa-3"},[_c("v-btn",{attrs:{color:"primary",small:"",disabled:_vm.hasEditingRow},on:{click:_vm.handleAddRow}},[_c("v-icon",{attrs:{small:"",left:""}},[_vm._v("mdi-plus")]),_vm._v("\n          "+_vm._s(_vm.recordCreatorProps.creatorButtonText||"添加一行数据")+"\n        ")],1)],1)]},proxy:!0}:null],null,!0)})],1)},[],!1,null,"52ef24ea",null).exports,JhEditableTable=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"JhEditableTable",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"columns",type:{name:"array"},required:!0},{name:"editable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"deletable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"recordCreator",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"recordCreatorProps",type:{name:"object"},defaultValue:{func:!1,value:"{\n  creatorButtonText: '添加一行数据',\n  record: {}\n}"}},{name:"itemsPerPage",type:{name:"number"},defaultValue:{func:!1,value:"-1"}},{name:"hideFooter",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"dense",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"sortable",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"rowKey",type:{name:"string"},defaultValue:{func:!1,value:"'id'"}},{name:"editableType",type:{name:"string"},defaultValue:{func:!1,value:"'multiple'"},values:["single","multiple"]},{name:"maxRows",type:{name:"number"},defaultValue:{func:!1,value:"Infinity"}},{name:"onValuesChange",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"beforeAddRow",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"beforeRemoveRow",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"actionRender",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"editableKeys",type:{name:"array"},defaultValue:{func:!1,value:"null"}},{name:"onSave",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"onDelete",type:{name:"func"},defaultValue:{func:!1,value:"null"}}],events:[{name:"edit",type:{names:["undefined"]}},{name:"update:editableKeys",type:{names:["undefined"]}},{name:"save",type:{names:["undefined"]}},{name:"change",type:{names:["undefined"]}},{name:"cancel",type:{names:["undefined"]}},{name:"delete",type:{names:["undefined"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]},{name:"max-rows",type:{names:["undefined"]}},{name:"add",type:{names:["undefined"]}},{name:"validation-error",type:{names:["undefined"]}},{name:"input",type:{names:["undefined"]}}],slots:[{name:"`cell.${column.key}`",scoped:!0,bindings:[{name:"name",title:"binding"},{name:"item",title:"binding"},{name:"value",title:"binding"}]},{name:"actions",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/Users/zhongchubing/Documents/work/jianghujs/jianghu-ui/src/components/JhEditableTable/JhEditableTable.vue"]};const JhEditableTable_stories={title:"数据展示/JhEditableTable - 可编辑表格",component:JhEditableTable,tags:["autodocs"],argTypes:{value:{control:"object",description:"表格数据（v-model）",table:{type:{summary:"Array"},category:"Props"}},columns:{control:"object",description:"列配置数组",table:{type:{summary:"Array<Column>"},category:"Props"}},editable:{control:"boolean",description:"是否可编辑",table:{type:{summary:"boolean"},defaultValue:{summary:"true"},category:"Props"}},deletable:{control:"boolean",description:"是否可删除",table:{type:{summary:"boolean"},defaultValue:{summary:"true"},category:"Props"}},recordCreator:{control:"boolean",description:"是否显示新增按钮",table:{type:{summary:"boolean"},defaultValue:{summary:"true"},category:"Props"}},dense:{control:"boolean",description:"紧凑模式",table:{type:{summary:"boolean"},category:"Props"}},onSave:{action:"save",description:"保存行时触发",table:{category:"Events"}},onDelete:{action:"delete",description:"删除行时触发",table:{category:"Events"}},onChange:{action:"change",description:"数据变化时触发",table:{category:"Events"}}},parameters:{storySource:{source:"import JhEditableTable from './JhEditableTable.vue';\n\nexport default {\n  title: '数据展示/JhEditableTable - 可编辑表格',\n  component: JhEditableTable,\n  tags: ['autodocs'],\n  argTypes: {\n    value: {\n      control: 'object',\n      description: '表格数据（v-model）',\n      table: {\n        type: { summary: 'Array' },\n        category: 'Props',\n      },\n    },\n    columns: {\n      control: 'object',\n      description: '列配置数组',\n      table: {\n        type: { summary: 'Array<Column>' },\n        category: 'Props',\n      },\n    },\n    editable: {\n      control: 'boolean',\n      description: '是否可编辑',\n      table: {\n        type: { summary: 'boolean' },\n        defaultValue: { summary: 'true' },\n        category: 'Props',\n      },\n    },\n    deletable: {\n      control: 'boolean',\n      description: '是否可删除',\n      table: {\n        type: { summary: 'boolean' },\n        defaultValue: { summary: 'true' },\n        category: 'Props',\n      },\n    },\n    recordCreator: {\n      control: 'boolean',\n      description: '是否显示新增按钮',\n      table: {\n        type: { summary: 'boolean' },\n        defaultValue: { summary: 'true' },\n        category: 'Props',\n      },\n    },\n    dense: {\n      control: 'boolean',\n      description: '紧凑模式',\n      table: {\n        type: { summary: 'boolean' },\n        category: 'Props',\n      },\n    },\n    onSave: {\n      action: 'save',\n      description: '保存行时触发',\n      table: {\n        category: 'Events',\n      },\n    },\n    onDelete: {\n      action: 'delete',\n      description: '删除行时触发',\n      table: {\n        category: 'Events',\n      },\n    },\n    onChange: {\n      action: 'change',\n      description: '数据变化时触发',\n      table: {\n        category: 'Events',\n      },\n    },\n  },\n  parameters: {\n    docs: {\n      description: {\n        component: `\n\n可编辑表格组件，支持行内编辑、新增、删除等操作，参考 Ant Design Pro 的 EditableProTable 设计。\n\n## 核心特性\n\n- ✅ **行编辑模式**：点击编辑按钮整行进入编辑状态\n- ✅ **新增/删除行**：支持动态添加和删除数据行\n- ✅ **内联验证**：编辑时实时验证字段规则\n- ✅ **操作列**：编辑、保存、取消、删除按钮\n- ✅ **多种字段类型**：text、number、select、date、switch、enum\n- ✅ **数据绑定**：v-model 双向绑定\n- ✅ **自定义渲染**：支持通过 slot 自定义单元格和操作列\n\n## 使用场景\n\n- 配置管理界面\n- 表单数据批量录入\n- 动态列表编辑\n- 权限配置表格\n- 商品/订单管理\n\n## Column 配置说明\n\n\\`\\`\\`javascript\n{\n  key: 'name',          // 字段名（必填）\n  label: '姓名',        // 列标题（必填）\n  type: 'text',         // 字段类型：text | number | select | date | switch | enum\n  editable: true,       // 是否可编辑（默认 true）\n  rules: [],            // 验证规则数组\n  options: [],          // select 类型的选项\n  enum: {},             // enum 类型的映射 { value: { text, color } }\n  placeholder: '',      // 占位符\n  width: 150,           // 列宽度\n  sortable: false,      // 是否可排序\n}\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n};\n\n// Story 1: 基础示例\nexport const 基础示例 = {\n  render: (args) => ({\n    components: { JhEditableTable },\n    data() {\n      return {\n        tableData: [\n          { id: 1, name: '张三', age: 28, email: 'zhangsan@example.com', city: '北京' },\n          { id: 2, name: '李四', age: 32, email: 'lisi@example.com', city: '上海' },\n          { id: 3, name: '王五', age: 25, email: 'wangwu@example.com', city: '广州' },\n        ],\n        columns: [\n          {\n            key: 'name',\n            label: '姓名',\n            type: 'text',\n            rules: [(v) => !!v || '姓名不能为空'],\n          },\n          {\n            key: 'age',\n            label: '年龄',\n            type: 'number',\n            rules: [(v) => (v > 0 && v < 150) || '请输入有效年龄'],\n          },\n          {\n            key: 'email',\n            label: '邮箱',\n            type: 'text',\n            rules: [\n              (v) => !!v || '邮箱不能为空',\n              (v) => /.+@.+\\..+/.test(v) || '请输入有效邮箱',\n            ],\n          },\n          {\n            key: 'city',\n            label: '城市',\n            type: 'select',\n            options: ['北京', '上海', '广州', '深圳', '杭州'],\n          },\n        ],\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">基础可编辑表格</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n        />\n        <div class=\"mt-4\">\n          <h4>当前数据：</h4>\n          <pre>{{ tableData }}</pre>\n        </div>\n      </div>\n    `,\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '展示基本的可编辑表格功能，支持文本、数字、邮箱、下拉选择等字段类型。',\n      },\n    },\n  },\n};\n\n// Story 2: 多种字段类型\nexport const 多种字段类型 = {\n  render: () => ({\n    components: { JhEditableTable },\n    data() {\n      return {\n        tableData: [\n          {\n            id: 1,\n            name: '产品A',\n            price: 99.99,\n            category: 'electronics',\n            status: 'active',\n            inStock: true,\n            releaseDate: '2024-01-15',\n          },\n          {\n            id: 2,\n            name: '产品B',\n            price: 199.99,\n            category: 'clothing',\n            status: 'inactive',\n            inStock: false,\n            releaseDate: '2024-02-20',\n          },\n        ],\n        columns: [\n          {\n            key: 'name',\n            label: '产品名称',\n            type: 'text',\n            rules: [(v) => !!v || '必填'],\n          },\n          {\n            key: 'price',\n            label: '价格',\n            type: 'number',\n            rules: [(v) => v > 0 || '价格必须大于0'],\n          },\n          {\n            key: 'category',\n            label: '分类',\n            type: 'select',\n            options: [\n              { text: '电子产品', value: 'electronics' },\n              { text: '服装', value: 'clothing' },\n              { text: '食品', value: 'food' },\n              { text: '图书', value: 'books' },\n            ],\n          },\n          {\n            key: 'status',\n            label: '状态',\n            type: 'enum',\n            editable: true,\n            enum: {\n              active: { text: '启用', color: 'success' },\n              inactive: { text: '禁用', color: 'default' },\n              pending: { text: '待审核', color: 'warning' },\n            },\n          },\n          {\n            key: 'inStock',\n            label: '库存',\n            type: 'switch',\n          },\n          {\n            key: 'releaseDate',\n            label: '上架日期',\n            type: 'date',\n          },\n        ],\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">多种字段类型示例</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n        />\n      </div>\n    `,\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '展示支持的多种字段类型：文本、数字、下拉选择、枚举、开关、日期等。',\n      },\n    },\n  },\n};\n\n// Story 3: 自定义新增按钮\nexport const 自定义新增按钮 = {\n  render: () => ({\n    components: { JhEditableTable },\n    data() {\n      return {\n        tableData: [\n          { id: 1, username: 'admin', role: 'admin', active: true },\n          { id: 2, username: 'user1', role: 'user', active: true },\n        ],\n        columns: [\n          {\n            key: 'username',\n            label: '用户名',\n            type: 'text',\n            rules: [(v) => !!v || '必填'],\n          },\n          {\n            key: 'role',\n            label: '角色',\n            type: 'select',\n            options: [\n              { text: '管理员', value: 'admin' },\n              { text: '普通用户', value: 'user' },\n              { text: '访客', value: 'guest' },\n            ],\n          },\n          {\n            key: 'active',\n            label: '激活状态',\n            type: 'switch',\n          },\n        ],\n        recordCreatorProps: {\n          creatorButtonText: '新增用户',\n          record: {\n            username: '',\n            role: 'user',\n            active: true,\n          },\n        },\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">自定义新增按钮</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          :record-creator-props=\"recordCreatorProps\"\n        />\n      </div>\n    `,\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '通过 recordCreatorProps 自定义新增按钮文字和新行的默认数据。',\n      },\n    },\n  },\n};\n\n// Story 4: 只读模式\nexport const 只读模式 = {\n  render: () => ({\n    components: { JhEditableTable },\n    data() {\n      return {\n        tableData: [\n          { id: 1, name: '项目A', status: 'completed', progress: 100 },\n          { id: 2, name: '项目B', status: 'in_progress', progress: 60 },\n          { id: 3, name: '项目C', status: 'pending', progress: 0 },\n        ],\n        columns: [\n          { key: 'name', label: '项目名称', type: 'text' },\n          {\n            key: 'status',\n            label: '状态',\n            type: 'enum',\n            enum: {\n              completed: { text: '已完成', color: 'success' },\n              in_progress: { text: '进行中', color: 'primary' },\n              pending: { text: '待开始', color: 'grey' },\n            },\n          },\n          { key: 'progress', label: '进度', type: 'number' },\n        ],\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">只读模式</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          :editable=\"false\"\n          :deletable=\"false\"\n          :record-creator=\"false\"\n        />\n      </div>\n    `,\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '设置 editable、deletable、recordCreator 为 false，表格变为只读展示模式。',\n      },\n    },\n  },\n};\n\n// Story 5: 紧凑模式\nexport const 紧凑模式 = {\n  render: () => ({\n    components: { JhEditableTable },\n    data() {\n      return {\n        tableData: [\n          { id: 1, code: 'P001', name: '产品1', qty: 100, price: 50 },\n          { id: 2, code: 'P002', name: '产品2', qty: 200, price: 80 },\n          { id: 3, code: 'P003', name: '产品3', qty: 150, price: 120 },\n          { id: 4, code: 'P004', name: '产品4', qty: 80, price: 200 },\n        ],\n        columns: [\n          { key: 'code', label: '编码', type: 'text' },\n          { key: 'name', label: '名称', type: 'text' },\n          { key: 'qty', label: '数量', type: 'number' },\n          { key: 'price', label: '单价', type: 'number' },\n        ],\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">紧凑模式</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          dense\n        />\n      </div>\n    `,\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '使用 dense 属性启用紧凑模式，适合展示更多数据。',\n      },\n    },\n  },\n};\n\n// Story 6: 自定义单元格渲染\nexport const 自定义单元格渲染 = {\n  render: () => ({\n    components: { JhEditableTable },\n    data() {\n      return {\n        tableData: [\n          { id: 1, name: '张三', score: 85, grade: 'B' },\n          { id: 2, name: '李四', score: 92, grade: 'A' },\n          { id: 3, name: '王五', score: 78, grade: 'C' },\n        ],\n        columns: [\n          { key: 'name', label: '姓名', type: 'text' },\n          { key: 'score', label: '分数', type: 'number' },\n          { key: 'grade', label: '等级', type: 'text', editable: false },\n        ],\n      };\n    },\n    methods: {\n      getScoreColor(score) {\n        if (score >= 90) return 'success';\n        if (score >= 80) return 'primary';\n        if (score >= 70) return 'warning';\n        return 'error';\n      },\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">自定义单元格渲染</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n        >\n          \x3c!-- 自定义分数单元格 --\x3e\n          <template #cell.score=\"{ value }\">\n            <v-chip :color=\"getScoreColor(value)\" small dark>\n              {{ value }} 分\n            </v-chip>\n          </template>\n\n          \x3c!-- 自定义操作列 --\x3e\n          <template #actions=\"{ item }\">\n            <v-btn icon small color=\"info\" @click=\"() => alert('查看详情: ' + item.name)\">\n              <v-icon small>mdi-eye</v-icon>\n            </v-btn>\n          </template>\n        </JhEditableTable>\n      </div>\n    `,\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '使用 slot 自定义单元格渲染和操作列，实现更丰富的展示效果。',\n      },\n    },\n  },\n};\n\n// Story 7: 完整功能演示\nexport const 完整功能演示 = {\n  render: () => ({\n    components: { JhEditableTable },\n    data() {\n      return {\n        tableData: [\n          {\n            id: 1,\n            name: '任务A',\n            assignee: '张三',\n            priority: 'high',\n            status: 'in_progress',\n            dueDate: '2024-12-31',\n            completed: false,\n          },\n          {\n            id: 2,\n            name: '任务B',\n            assignee: '李四',\n            priority: 'medium',\n            status: 'pending',\n            dueDate: '2024-11-30',\n            completed: false,\n          },\n        ],\n        columns: [\n          {\n            key: 'name',\n            label: '任务名称',\n            type: 'text',\n            rules: [(v) => !!v || '任务名称不能为空'],\n          },\n          {\n            key: 'assignee',\n            label: '负责人',\n            type: 'select',\n            options: ['张三', '李四', '王五', '赵六'],\n          },\n          {\n            key: 'priority',\n            label: '优先级',\n            type: 'select',\n            options: [\n              { text: '高', value: 'high' },\n              { text: '中', value: 'medium' },\n              { text: '低', value: 'low' },\n            ],\n          },\n          {\n            key: 'status',\n            label: '状态',\n            type: 'enum',\n            enum: {\n              pending: { text: '待开始', color: 'grey' },\n              in_progress: { text: '进行中', color: 'primary' },\n              completed: { text: '已完成', color: 'success' },\n            },\n          },\n          {\n            key: 'dueDate',\n            label: '截止日期',\n            type: 'date',\n          },\n          {\n            key: 'completed',\n            label: '完成',\n            type: 'switch',\n          },\n        ],\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">完整功能演示 - 任务管理</h3>\n\n        <v-alert type=\"info\" dense outlined class=\"mb-4\">\n          <div><strong>功能说明：</strong></div>\n          <ul class=\"mt-2 mb-0\">\n            <li>点击编辑按钮可编辑整行数据</li>\n            <li>编辑时会显示保存和取消按钮</li>\n            <li>支持字段验证，验证失败无法保存</li>\n            <li>点击添加按钮可新增任务</li>\n            <li>新增的行会自动进入编辑状态</li>\n            <li>所有操作都会触发相应事件</li>\n          </ul>\n        </v-alert>\n\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          :record-creator-props=\"{\n            creatorButtonText: '新增任务',\n            record: {\n              name: '',\n              assignee: '张三',\n              priority: 'medium',\n              status: 'pending',\n              dueDate: new Date().toISOString().substr(0, 10),\n              completed: false,\n            }\n          }\"\n        />\n\n        <div class=\"mt-4 pa-3 grey lighten-4 rounded\">\n          <h4>当前表格数据（{{ tableData.length }} 条）：</h4>\n          <pre class=\"mt-2\">{{ JSON.stringify(tableData, null, 2) }}</pre>\n        </div>\n      </div>\n    `,\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '完整功能演示，包含所有字段类型、验证、新增、编辑、删除等操作，适用于任务管理等场景。',\n      },\n    },\n  },\n};\n",locationsMap:{基础示例:{startLoc:{col:20,line:129},endLoc:{col:1,line:191},startBody:{col:20,line:129},endBody:{col:1,line:191}},多种字段类型:{startLoc:{col:22,line:194},endLoc:{col:1,line:284},startBody:{col:22,line:194},endBody:{col:1,line:284}},自定义新增按钮:{startLoc:{col:23,line:287},endLoc:{col:1,line:347},startBody:{col:23,line:287},endBody:{col:1,line:347}},只读模式:{startLoc:{col:20,line:350},endLoc:{col:1,line:396},startBody:{col:20,line:350},endBody:{col:1,line:396}},紧凑模式:{startLoc:{col:20,line:399},endLoc:{col:1,line:436},startBody:{col:20,line:399},endBody:{col:1,line:436}},自定义单元格渲染:{startLoc:{col:24,line:439},endLoc:{col:1,line:495},startBody:{col:24,line:439},endBody:{col:1,line:495}},完整功能演示:{startLoc:{col:22,line:498},endLoc:{col:1,line:615},startBody:{col:22,line:498},endBody:{col:1,line:615}}}},docs:{description:{component:"\n\n可编辑表格组件，支持行内编辑、新增、删除等操作，参考 Ant Design Pro 的 EditableProTable 设计。\n\n## 核心特性\n\n- ✅ **行编辑模式**：点击编辑按钮整行进入编辑状态\n- ✅ **新增/删除行**：支持动态添加和删除数据行\n- ✅ **内联验证**：编辑时实时验证字段规则\n- ✅ **操作列**：编辑、保存、取消、删除按钮\n- ✅ **多种字段类型**：text、number、select、date、switch、enum\n- ✅ **数据绑定**：v-model 双向绑定\n- ✅ **自定义渲染**：支持通过 slot 自定义单元格和操作列\n\n## 使用场景\n\n- 配置管理界面\n- 表单数据批量录入\n- 动态列表编辑\n- 权限配置表格\n- 商品/订单管理\n\n## Column 配置说明\n\n```javascript\n{\n  key: 'name',          // 字段名（必填）\n  label: '姓名',        // 列标题（必填）\n  type: 'text',         // 字段类型：text | number | select | date | switch | enum\n  editable: true,       // 是否可编辑（默认 true）\n  rules: [],            // 验证规则数组\n  options: [],          // select 类型的选项\n  enum: {},             // enum 类型的映射 { value: { text, color } }\n  placeholder: '',      // 占位符\n  width: 150,           // 列宽度\n  sortable: false,      // 是否可排序\n}\n```\n        "}}}};var 基础示例={render:function render(args){return{components:{JhEditableTable},data:function data(){return{tableData:[{id:1,name:"张三",age:28,email:"zhangsan@example.com",city:"北京"},{id:2,name:"李四",age:32,email:"lisi@example.com",city:"上海"},{id:3,name:"王五",age:25,email:"wangwu@example.com",city:"广州"}],columns:[{key:"name",label:"姓名",type:"text",rules:[function(v){return!!v||"姓名不能为空"}]},{key:"age",label:"年龄",type:"number",rules:[function(v){return v>0&&v<150||"请输入有效年龄"}]},{key:"email",label:"邮箱",type:"text",rules:[function(v){return!!v||"邮箱不能为空"},function(v){return/.+@.+\..+/.test(v)||"请输入有效邮箱"}]},{key:"city",label:"城市",type:"select",options:["北京","上海","广州","深圳","杭州"]}]}},template:'\n      <div class="pa-4">\n        <h3 class="mb-4">基础可编辑表格</h3>\n        <JhEditableTable\n          v-model="tableData"\n          :columns="columns"\n        />\n        <div class="mt-4">\n          <h4>当前数据：</h4>\n          <pre>{{ tableData }}</pre>\n        </div>\n      </div>\n    '}},parameters:{docs:{description:{story:"展示基本的可编辑表格功能，支持文本、数字、邮箱、下拉选择等字段类型。"}}}},多种字段类型={render:function render(){return{components:{JhEditableTable},data:function data(){return{tableData:[{id:1,name:"产品A",price:99.99,category:"electronics",status:"active",inStock:!0,releaseDate:"2024-01-15"},{id:2,name:"产品B",price:199.99,category:"clothing",status:"inactive",inStock:!1,releaseDate:"2024-02-20"}],columns:[{key:"name",label:"产品名称",type:"text",rules:[function(v){return!!v||"必填"}]},{key:"price",label:"价格",type:"number",rules:[function(v){return v>0||"价格必须大于0"}]},{key:"category",label:"分类",type:"select",options:[{text:"电子产品",value:"electronics"},{text:"服装",value:"clothing"},{text:"食品",value:"food"},{text:"图书",value:"books"}]},{key:"status",label:"状态",type:"enum",editable:!0,enum:{active:{text:"启用",color:"success"},inactive:{text:"禁用",color:"default"},pending:{text:"待审核",color:"warning"}}},{key:"inStock",label:"库存",type:"switch"},{key:"releaseDate",label:"上架日期",type:"date"}]}},template:'\n      <div class="pa-4">\n        <h3 class="mb-4">多种字段类型示例</h3>\n        <JhEditableTable\n          v-model="tableData"\n          :columns="columns"\n        />\n      </div>\n    '}},parameters:{docs:{description:{story:"展示支持的多种字段类型：文本、数字、下拉选择、枚举、开关、日期等。"}}}},自定义新增按钮={render:function render(){return{components:{JhEditableTable},data:function data(){return{tableData:[{id:1,username:"admin",role:"admin",active:!0},{id:2,username:"user1",role:"user",active:!0}],columns:[{key:"username",label:"用户名",type:"text",rules:[function(v){return!!v||"必填"}]},{key:"role",label:"角色",type:"select",options:[{text:"管理员",value:"admin"},{text:"普通用户",value:"user"},{text:"访客",value:"guest"}]},{key:"active",label:"激活状态",type:"switch"}],recordCreatorProps:{creatorButtonText:"新增用户",record:{username:"",role:"user",active:!0}}}},template:'\n      <div class="pa-4">\n        <h3 class="mb-4">自定义新增按钮</h3>\n        <JhEditableTable\n          v-model="tableData"\n          :columns="columns"\n          :record-creator-props="recordCreatorProps"\n        />\n      </div>\n    '}},parameters:{docs:{description:{story:"通过 recordCreatorProps 自定义新增按钮文字和新行的默认数据。"}}}},只读模式={render:function render(){return{components:{JhEditableTable},data:function data(){return{tableData:[{id:1,name:"项目A",status:"completed",progress:100},{id:2,name:"项目B",status:"in_progress",progress:60},{id:3,name:"项目C",status:"pending",progress:0}],columns:[{key:"name",label:"项目名称",type:"text"},{key:"status",label:"状态",type:"enum",enum:{completed:{text:"已完成",color:"success"},in_progress:{text:"进行中",color:"primary"},pending:{text:"待开始",color:"grey"}}},{key:"progress",label:"进度",type:"number"}]}},template:'\n      <div class="pa-4">\n        <h3 class="mb-4">只读模式</h3>\n        <JhEditableTable\n          v-model="tableData"\n          :columns="columns"\n          :editable="false"\n          :deletable="false"\n          :record-creator="false"\n        />\n      </div>\n    '}},parameters:{docs:{description:{story:"设置 editable、deletable、recordCreator 为 false，表格变为只读展示模式。"}}}},紧凑模式={render:function render(){return{components:{JhEditableTable},data:function data(){return{tableData:[{id:1,code:"P001",name:"产品1",qty:100,price:50},{id:2,code:"P002",name:"产品2",qty:200,price:80},{id:3,code:"P003",name:"产品3",qty:150,price:120},{id:4,code:"P004",name:"产品4",qty:80,price:200}],columns:[{key:"code",label:"编码",type:"text"},{key:"name",label:"名称",type:"text"},{key:"qty",label:"数量",type:"number"},{key:"price",label:"单价",type:"number"}]}},template:'\n      <div class="pa-4">\n        <h3 class="mb-4">紧凑模式</h3>\n        <JhEditableTable\n          v-model="tableData"\n          :columns="columns"\n          dense\n        />\n      </div>\n    '}},parameters:{docs:{description:{story:"使用 dense 属性启用紧凑模式，适合展示更多数据。"}}}},自定义单元格渲染={render:function render(){return{components:{JhEditableTable},data:function data(){return{tableData:[{id:1,name:"张三",score:85,grade:"B"},{id:2,name:"李四",score:92,grade:"A"},{id:3,name:"王五",score:78,grade:"C"}],columns:[{key:"name",label:"姓名",type:"text"},{key:"score",label:"分数",type:"number"},{key:"grade",label:"等级",type:"text",editable:!1}]}},methods:{getScoreColor:function getScoreColor(score){return score>=90?"success":score>=80?"primary":score>=70?"warning":"error"}},template:'\n      <div class="pa-4">\n        <h3 class="mb-4">自定义单元格渲染</h3>\n        <JhEditableTable\n          v-model="tableData"\n          :columns="columns"\n        >\n          \x3c!-- 自定义分数单元格 --\x3e\n          <template #cell.score="{ value }">\n            <v-chip :color="getScoreColor(value)" small dark>\n              {{ value }} 分\n            </v-chip>\n          </template>\n\n          \x3c!-- 自定义操作列 --\x3e\n          <template #actions="{ item }">\n            <v-btn icon small color="info" @click="() => alert(\'查看详情: \' + item.name)">\n              <v-icon small>mdi-eye</v-icon>\n            </v-btn>\n          </template>\n        </JhEditableTable>\n      </div>\n    '}},parameters:{docs:{description:{story:"使用 slot 自定义单元格渲染和操作列，实现更丰富的展示效果。"}}}},完整功能演示={render:function render(){return{components:{JhEditableTable},data:function data(){return{tableData:[{id:1,name:"任务A",assignee:"张三",priority:"high",status:"in_progress",dueDate:"2024-12-31",completed:!1},{id:2,name:"任务B",assignee:"李四",priority:"medium",status:"pending",dueDate:"2024-11-30",completed:!1}],columns:[{key:"name",label:"任务名称",type:"text",rules:[function(v){return!!v||"任务名称不能为空"}]},{key:"assignee",label:"负责人",type:"select",options:["张三","李四","王五","赵六"]},{key:"priority",label:"优先级",type:"select",options:[{text:"高",value:"high"},{text:"中",value:"medium"},{text:"低",value:"low"}]},{key:"status",label:"状态",type:"enum",enum:{pending:{text:"待开始",color:"grey"},in_progress:{text:"进行中",color:"primary"},completed:{text:"已完成",color:"success"}}},{key:"dueDate",label:"截止日期",type:"date"},{key:"completed",label:"完成",type:"switch"}]}},template:'\n      <div class="pa-4">\n        <h3 class="mb-4">完整功能演示 - 任务管理</h3>\n\n        <v-alert type="info" dense outlined class="mb-4">\n          <div><strong>功能说明：</strong></div>\n          <ul class="mt-2 mb-0">\n            <li>点击编辑按钮可编辑整行数据</li>\n            <li>编辑时会显示保存和取消按钮</li>\n            <li>支持字段验证，验证失败无法保存</li>\n            <li>点击添加按钮可新增任务</li>\n            <li>新增的行会自动进入编辑状态</li>\n            <li>所有操作都会触发相应事件</li>\n          </ul>\n        </v-alert>\n\n        <JhEditableTable\n          v-model="tableData"\n          :columns="columns"\n          :record-creator-props="{\n            creatorButtonText: \'新增任务\',\n            record: {\n              name: \'\',\n              assignee: \'张三\',\n              priority: \'medium\',\n              status: \'pending\',\n              dueDate: new Date().toISOString().substr(0, 10),\n              completed: false,\n            }\n          }"\n        />\n\n        <div class="mt-4 pa-3 grey lighten-4 rounded">\n          <h4>当前表格数据（{{ tableData.length }} 条）：</h4>\n          <pre class="mt-2">{{ JSON.stringify(tableData, null, 2) }}</pre>\n        </div>\n      </div>\n    '}},parameters:{docs:{description:{story:"完整功能演示，包含所有字段类型、验证、新增、编辑、删除等操作，适用于任务管理等场景。"}}}};基础示例.parameters={...基础示例.parameters,docs:{...基础示例.parameters?.docs,source:{originalSource:"{\n  render: args => ({\n    components: {\n      JhEditableTable\n    },\n    data() {\n      return {\n        tableData: [{\n          id: 1,\n          name: '张三',\n          age: 28,\n          email: 'zhangsan@example.com',\n          city: '北京'\n        }, {\n          id: 2,\n          name: '李四',\n          age: 32,\n          email: 'lisi@example.com',\n          city: '上海'\n        }, {\n          id: 3,\n          name: '王五',\n          age: 25,\n          email: 'wangwu@example.com',\n          city: '广州'\n        }],\n        columns: [{\n          key: 'name',\n          label: '姓名',\n          type: 'text',\n          rules: [v => !!v || '姓名不能为空']\n        }, {\n          key: 'age',\n          label: '年龄',\n          type: 'number',\n          rules: [v => v > 0 && v < 150 || '请输入有效年龄']\n        }, {\n          key: 'email',\n          label: '邮箱',\n          type: 'text',\n          rules: [v => !!v || '邮箱不能为空', v => /.+@.+\\..+/.test(v) || '请输入有效邮箱']\n        }, {\n          key: 'city',\n          label: '城市',\n          type: 'select',\n          options: ['北京', '上海', '广州', '深圳', '杭州']\n        }]\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">基础可编辑表格</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n        />\n        <div class=\"mt-4\">\n          <h4>当前数据：</h4>\n          <pre>{{ tableData }}</pre>\n        </div>\n      </div>\n    `\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '展示基本的可编辑表格功能，支持文本、数字、邮箱、下拉选择等字段类型。'\n      }\n    }\n  }\n}",...基础示例.parameters?.docs?.source}}},多种字段类型.parameters={...多种字段类型.parameters,docs:{...多种字段类型.parameters?.docs,source:{originalSource:"{\n  render: () => ({\n    components: {\n      JhEditableTable\n    },\n    data() {\n      return {\n        tableData: [{\n          id: 1,\n          name: '产品A',\n          price: 99.99,\n          category: 'electronics',\n          status: 'active',\n          inStock: true,\n          releaseDate: '2024-01-15'\n        }, {\n          id: 2,\n          name: '产品B',\n          price: 199.99,\n          category: 'clothing',\n          status: 'inactive',\n          inStock: false,\n          releaseDate: '2024-02-20'\n        }],\n        columns: [{\n          key: 'name',\n          label: '产品名称',\n          type: 'text',\n          rules: [v => !!v || '必填']\n        }, {\n          key: 'price',\n          label: '价格',\n          type: 'number',\n          rules: [v => v > 0 || '价格必须大于0']\n        }, {\n          key: 'category',\n          label: '分类',\n          type: 'select',\n          options: [{\n            text: '电子产品',\n            value: 'electronics'\n          }, {\n            text: '服装',\n            value: 'clothing'\n          }, {\n            text: '食品',\n            value: 'food'\n          }, {\n            text: '图书',\n            value: 'books'\n          }]\n        }, {\n          key: 'status',\n          label: '状态',\n          type: 'enum',\n          editable: true,\n          enum: {\n            active: {\n              text: '启用',\n              color: 'success'\n            },\n            inactive: {\n              text: '禁用',\n              color: 'default'\n            },\n            pending: {\n              text: '待审核',\n              color: 'warning'\n            }\n          }\n        }, {\n          key: 'inStock',\n          label: '库存',\n          type: 'switch'\n        }, {\n          key: 'releaseDate',\n          label: '上架日期',\n          type: 'date'\n        }]\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">多种字段类型示例</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n        />\n      </div>\n    `\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '展示支持的多种字段类型：文本、数字、下拉选择、枚举、开关、日期等。'\n      }\n    }\n  }\n}",...多种字段类型.parameters?.docs?.source}}},自定义新增按钮.parameters={...自定义新增按钮.parameters,docs:{...自定义新增按钮.parameters?.docs,source:{originalSource:"{\n  render: () => ({\n    components: {\n      JhEditableTable\n    },\n    data() {\n      return {\n        tableData: [{\n          id: 1,\n          username: 'admin',\n          role: 'admin',\n          active: true\n        }, {\n          id: 2,\n          username: 'user1',\n          role: 'user',\n          active: true\n        }],\n        columns: [{\n          key: 'username',\n          label: '用户名',\n          type: 'text',\n          rules: [v => !!v || '必填']\n        }, {\n          key: 'role',\n          label: '角色',\n          type: 'select',\n          options: [{\n            text: '管理员',\n            value: 'admin'\n          }, {\n            text: '普通用户',\n            value: 'user'\n          }, {\n            text: '访客',\n            value: 'guest'\n          }]\n        }, {\n          key: 'active',\n          label: '激活状态',\n          type: 'switch'\n        }],\n        recordCreatorProps: {\n          creatorButtonText: '新增用户',\n          record: {\n            username: '',\n            role: 'user',\n            active: true\n          }\n        }\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">自定义新增按钮</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          :record-creator-props=\"recordCreatorProps\"\n        />\n      </div>\n    `\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '通过 recordCreatorProps 自定义新增按钮文字和新行的默认数据。'\n      }\n    }\n  }\n}",...自定义新增按钮.parameters?.docs?.source}}},只读模式.parameters={...只读模式.parameters,docs:{...只读模式.parameters?.docs,source:{originalSource:"{\n  render: () => ({\n    components: {\n      JhEditableTable\n    },\n    data() {\n      return {\n        tableData: [{\n          id: 1,\n          name: '项目A',\n          status: 'completed',\n          progress: 100\n        }, {\n          id: 2,\n          name: '项目B',\n          status: 'in_progress',\n          progress: 60\n        }, {\n          id: 3,\n          name: '项目C',\n          status: 'pending',\n          progress: 0\n        }],\n        columns: [{\n          key: 'name',\n          label: '项目名称',\n          type: 'text'\n        }, {\n          key: 'status',\n          label: '状态',\n          type: 'enum',\n          enum: {\n            completed: {\n              text: '已完成',\n              color: 'success'\n            },\n            in_progress: {\n              text: '进行中',\n              color: 'primary'\n            },\n            pending: {\n              text: '待开始',\n              color: 'grey'\n            }\n          }\n        }, {\n          key: 'progress',\n          label: '进度',\n          type: 'number'\n        }]\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">只读模式</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          :editable=\"false\"\n          :deletable=\"false\"\n          :record-creator=\"false\"\n        />\n      </div>\n    `\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '设置 editable、deletable、recordCreator 为 false，表格变为只读展示模式。'\n      }\n    }\n  }\n}",...只读模式.parameters?.docs?.source}}},紧凑模式.parameters={...紧凑模式.parameters,docs:{...紧凑模式.parameters?.docs,source:{originalSource:"{\n  render: () => ({\n    components: {\n      JhEditableTable\n    },\n    data() {\n      return {\n        tableData: [{\n          id: 1,\n          code: 'P001',\n          name: '产品1',\n          qty: 100,\n          price: 50\n        }, {\n          id: 2,\n          code: 'P002',\n          name: '产品2',\n          qty: 200,\n          price: 80\n        }, {\n          id: 3,\n          code: 'P003',\n          name: '产品3',\n          qty: 150,\n          price: 120\n        }, {\n          id: 4,\n          code: 'P004',\n          name: '产品4',\n          qty: 80,\n          price: 200\n        }],\n        columns: [{\n          key: 'code',\n          label: '编码',\n          type: 'text'\n        }, {\n          key: 'name',\n          label: '名称',\n          type: 'text'\n        }, {\n          key: 'qty',\n          label: '数量',\n          type: 'number'\n        }, {\n          key: 'price',\n          label: '单价',\n          type: 'number'\n        }]\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">紧凑模式</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          dense\n        />\n      </div>\n    `\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '使用 dense 属性启用紧凑模式，适合展示更多数据。'\n      }\n    }\n  }\n}",...紧凑模式.parameters?.docs?.source}}},自定义单元格渲染.parameters={...自定义单元格渲染.parameters,docs:{...自定义单元格渲染.parameters?.docs,source:{originalSource:"{\n  render: () => ({\n    components: {\n      JhEditableTable\n    },\n    data() {\n      return {\n        tableData: [{\n          id: 1,\n          name: '张三',\n          score: 85,\n          grade: 'B'\n        }, {\n          id: 2,\n          name: '李四',\n          score: 92,\n          grade: 'A'\n        }, {\n          id: 3,\n          name: '王五',\n          score: 78,\n          grade: 'C'\n        }],\n        columns: [{\n          key: 'name',\n          label: '姓名',\n          type: 'text'\n        }, {\n          key: 'score',\n          label: '分数',\n          type: 'number'\n        }, {\n          key: 'grade',\n          label: '等级',\n          type: 'text',\n          editable: false\n        }]\n      };\n    },\n    methods: {\n      getScoreColor(score) {\n        if (score >= 90) return 'success';\n        if (score >= 80) return 'primary';\n        if (score >= 70) return 'warning';\n        return 'error';\n      }\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">自定义单元格渲染</h3>\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n        >\n          \x3c!-- 自定义分数单元格 --\x3e\n          <template #cell.score=\"{ value }\">\n            <v-chip :color=\"getScoreColor(value)\" small dark>\n              {{ value }} 分\n            </v-chip>\n          </template>\n\n          \x3c!-- 自定义操作列 --\x3e\n          <template #actions=\"{ item }\">\n            <v-btn icon small color=\"info\" @click=\"() => alert('查看详情: ' + item.name)\">\n              <v-icon small>mdi-eye</v-icon>\n            </v-btn>\n          </template>\n        </JhEditableTable>\n      </div>\n    `\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '使用 slot 自定义单元格渲染和操作列，实现更丰富的展示效果。'\n      }\n    }\n  }\n}",...自定义单元格渲染.parameters?.docs?.source}}},完整功能演示.parameters={...完整功能演示.parameters,docs:{...完整功能演示.parameters?.docs,source:{originalSource:"{\n  render: () => ({\n    components: {\n      JhEditableTable\n    },\n    data() {\n      return {\n        tableData: [{\n          id: 1,\n          name: '任务A',\n          assignee: '张三',\n          priority: 'high',\n          status: 'in_progress',\n          dueDate: '2024-12-31',\n          completed: false\n        }, {\n          id: 2,\n          name: '任务B',\n          assignee: '李四',\n          priority: 'medium',\n          status: 'pending',\n          dueDate: '2024-11-30',\n          completed: false\n        }],\n        columns: [{\n          key: 'name',\n          label: '任务名称',\n          type: 'text',\n          rules: [v => !!v || '任务名称不能为空']\n        }, {\n          key: 'assignee',\n          label: '负责人',\n          type: 'select',\n          options: ['张三', '李四', '王五', '赵六']\n        }, {\n          key: 'priority',\n          label: '优先级',\n          type: 'select',\n          options: [{\n            text: '高',\n            value: 'high'\n          }, {\n            text: '中',\n            value: 'medium'\n          }, {\n            text: '低',\n            value: 'low'\n          }]\n        }, {\n          key: 'status',\n          label: '状态',\n          type: 'enum',\n          enum: {\n            pending: {\n              text: '待开始',\n              color: 'grey'\n            },\n            in_progress: {\n              text: '进行中',\n              color: 'primary'\n            },\n            completed: {\n              text: '已完成',\n              color: 'success'\n            }\n          }\n        }, {\n          key: 'dueDate',\n          label: '截止日期',\n          type: 'date'\n        }, {\n          key: 'completed',\n          label: '完成',\n          type: 'switch'\n        }]\n      };\n    },\n    template: `\n      <div class=\"pa-4\">\n        <h3 class=\"mb-4\">完整功能演示 - 任务管理</h3>\n\n        <v-alert type=\"info\" dense outlined class=\"mb-4\">\n          <div><strong>功能说明：</strong></div>\n          <ul class=\"mt-2 mb-0\">\n            <li>点击编辑按钮可编辑整行数据</li>\n            <li>编辑时会显示保存和取消按钮</li>\n            <li>支持字段验证，验证失败无法保存</li>\n            <li>点击添加按钮可新增任务</li>\n            <li>新增的行会自动进入编辑状态</li>\n            <li>所有操作都会触发相应事件</li>\n          </ul>\n        </v-alert>\n\n        <JhEditableTable\n          v-model=\"tableData\"\n          :columns=\"columns\"\n          :record-creator-props=\"{\n            creatorButtonText: '新增任务',\n            record: {\n              name: '',\n              assignee: '张三',\n              priority: 'medium',\n              status: 'pending',\n              dueDate: new Date().toISOString().substr(0, 10),\n              completed: false,\n            }\n          }\"\n        />\n\n        <div class=\"mt-4 pa-3 grey lighten-4 rounded\">\n          <h4>当前表格数据（{{ tableData.length }} 条）：</h4>\n          <pre class=\"mt-2\">{{ JSON.stringify(tableData, null, 2) }}</pre>\n        </div>\n      </div>\n    `\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: '完整功能演示，包含所有字段类型、验证、新增、编辑、删除等操作，适用于任务管理等场景。'\n      }\n    }\n  }\n}",...完整功能演示.parameters?.docs?.source}}};const __namedExportsOrder=["基础示例","多种字段类型","自定义新增按钮","只读模式","紧凑模式","自定义单元格渲染","完整功能演示"]}}]);