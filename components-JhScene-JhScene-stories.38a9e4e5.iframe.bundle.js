"use strict";(self.webpackChunk_jianghujs_jianghu_ui=self.webpackChunk_jianghujs_jianghu_ui||[]).push([[8727],{"./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@5.9.3_webpack@5.102.1_@swc+core@1.13.5_es_397d8c6b9860a09288c2bf2dc9668002/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/JhScene/JhScene.vue?vue&type=style&index=0&id=50ab6d9d&prod&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_pnpm_css_loader_6_11_0_webpack_5_102_1_swc_core_1_13_5_esbuild_0_18_20_webpack_cli_5_1_4_webpack_5_102_1_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n.jh-scene[data-v-50ab6d9d] {\n  display: inline-block;\n}\n.scene-manage[data-v-50ab6d9d] .scene-item:not(:last-child) {\n  border-bottom: 1px solid #eeeeee;\n}\n.jh-input-label[data-v-50ab6d9d] {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.6);\n  display: block;\n  margin-bottom: 8px;\n}\n","",{version:3,sources:["webpack://./src/components/JhScene/JhScene.vue"],names:[],mappings:";AAyWA;EACA,qBAAA;AACA;AAEA;EACA,gCAAA;AACA;AAEA;EACA,eAAA;EACA,yBAAA;EACA,cAAA;EACA,kBAAA;AACA",sourcesContent:['<template>\n  <div class="jh-scene">\n    <v-row class="ma-0">\n      \x3c!-- 场景列表 --\x3e\n      <v-btn-toggle\n        :value="currentSceneIndex"\n        mandatory\n        dense\n        :class="{ \'mr-md-2\': showActionBtn }"\n        color="success"\n        @change="handleSceneChange"\n      >\n        <v-btn small v-for="(scene, index) in sceneList" :key="index">{{ scene.name }}</v-btn>\n      </v-btn-toggle>\n\n      \x3c!-- 场景操作菜单 --\x3e\n      <v-menu v-if="showActionBtn" offset-y v-model="isSceneOperationShown">\n        <template v-slot:activator="{ on, attrs }">\n          <v-btn-toggle dense color="white">\n            <v-btn small v-bind="attrs" v-on="on">\n              <v-icon small class="mx-0">mdi-chevron-down</v-icon>\n            </v-btn>\n          </v-btn-toggle>\n        </template>\n        <v-list dense class="pb-0">\n          <v-list-item @click="openCreateSceneDialog">\n            <v-list-item-title class="success--text">\n              <v-icon small class="success--text">mdi-plus</v-icon>\n              <span class="success--text">新建场景</span>\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item @click="openSceneListDialog">\n            <v-list-item-title class="success--text">\n              <v-icon small class="success--text">mdi-cog-outline</v-icon>\n              <span class="success--text">场景管理</span>\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-row>\n\n    \x3c!-- 新建场景dialog --\x3e\n    <v-dialog v-model="isCreateSceneDialogShown" persistent width="360px">\n      <v-card>\n        <v-card-title>\n          <v-row class="ma-0">\n            <div style="font-size: 16px">新建场景</div>\n            <v-spacer></v-spacer>\n            <v-btn class="elevation-0" fab x-small @click="closeCreateSceneDialog">\n              <v-icon dark>mdi-close</v-icon>\n            </v-btn>\n          </v-row>\n        </v-card-title>\n        <v-card-text>\n          <div class="mb-2">\n            <span class="jh-input-label">场景名称</span>\n            <v-text-field\n              class="jh-v-input"\n              dense\n              single-line\n              filled\n              hide-details\n              v-model="createItem.name"\n              placeholder="场景名称，最多10个字符"\n              :rules="validationRules.requireRules"\n            ></v-text-field>\n          </div>\n          <div v-if="hasFormSlot" class="mb-2">\n            <span class="jh-input-label">筛选条件</span>\n            <slot name="form" :form="createItem.form"></slot>\n          </div>\n        </v-card-text>\n        <v-card-actions class="pb-4">\n          <v-row class="ma-0 pa-6 pt-2 justify-end">\n            <v-btn class="ml-2" @click="doCreateScene" small color="success">保存</v-btn>\n            <v-btn class="ml-2" @click="closeCreateSceneDialog" small>取消</v-btn>\n          </v-row>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    \x3c!-- 场景列表dialog --\x3e\n    <v-dialog v-model="isSceneListShown" persistent width="360px">\n      <v-card class="scene-manage">\n        <v-card-title>\n          <v-row class="ma-0">\n            <div style="font-size: 16px">场景管理</div>\n            <v-spacer></v-spacer>\n            <v-btn class="elevation-0" fab x-small @click="closeSceneListDialog">\n              <v-icon dark>mdi-close</v-icon>\n            </v-btn>\n          </v-row>\n        </v-card-title>\n        <v-card-text class="pb-2">\n          <v-card outlined>\n            <v-list dense class="scene-list">\n              \x3c!-- 场景列表数据 --\x3e\n              <template v-if="sceneCustomList && sceneCustomList.length">\n                <v-list-item class="scene-item px-2" v-for="item in sceneCustomList" :key="item.id">\n                  <v-list-item-content>{{ item.name }}</v-list-item-content>\n                  <v-list-item-icon @click.stop="doDeleteScene(item)">\n                    <v-icon size="22">mdi-delete</v-icon>\n                  </v-list-item-icon>\n                </v-list-item>\n              </template>\n              <template v-else>\n                <div class="text-center grey--text" style="line-height: 100px">暂无自定义场景</div>\n              </template>\n            </v-list>\n          </v-card>\n        </v-card-text>\n        <v-card-actions class="pb-4">\n          <v-row class="ma-0 pa-6 pt-2 justify-end">\n            <v-btn class="ml-2" @click="changeToCreateDialog" small color="success">新建场景</v-btn>\n            <v-btn class="ml-2" @click="closeSceneListDialog" small>取消</v-btn>\n          </v-row>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \'JhScene\',\n  props: {\n    // 初始表单数据\n    initFormData: {\n      type: Object,\n      default: () => ({}),\n    },\n    // localStorage 存储的 key\n    storageKey: {\n      type: String,\n      default: \'jh-scene-list\',\n    },\n    // 初始场景列表\n    scenes: {\n      type: Array,\n      default: () => [],\n    },\n    // 当前场景ID\n    currentSceneId: {\n      type: String,\n      default: null,\n    },\n    // 是否显示操作按钮\n    showActionBtn: {\n      type: Boolean,\n      default: true,\n    },\n    // 是否使用 localStorage\n    useLocalStorage: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      validationRules: {\n        requireRules: [(v) => !!v || \'此项必填\'],\n      },\n      // 全部场景列表\n      sceneList: [],\n      // 自定义场景列表\n      sceneCustomList: [],\n      // 场景操作数据\n      deleteItem: {},\n      createItem: {\n        name: \'\',\n        form: {},\n      },\n      // 新建场景弹窗\n      isCreateSceneDialogShown: false,\n      // 场景操作菜单\n      isSceneOperationShown: false,\n      // 场景管理弹窗\n      isSceneListShown: false,\n      // 当前场景索引\n      currentSceneIndex: 0,\n    };\n  },\n  computed: {\n    hasFormSlot() {\n      return !!this.$scopedSlots.form;\n    },\n  },\n  watch: {\n    scenes: {\n      handler(newVal) {\n        if (newVal && newVal.length > 0) {\n          this.sceneList = [...newVal];\n          this.updateCustomSceneList();\n        }\n      },\n      immediate: true,\n    },\n  },\n  created() {\n    this.initSceneList();\n  },\n  methods: {\n    // 初始化场景列表\n    initSceneList() {\n      if (this.useLocalStorage) {\n        this.getSceneListFromStorage();\n      } else if (this.scenes && this.scenes.length > 0) {\n        this.sceneList = [...this.scenes];\n      }\n      this.updateCustomSceneList();\n      this.useDefaultScene();\n    },\n\n    // 从 localStorage 获取场景列表\n    getSceneListFromStorage() {\n      let localSceneList = localStorage.getItem(this.storageKey);\n      if (localSceneList == null) localSceneList = \'[]\';\n      localSceneList = JSON.parse(localSceneList);\n      this.sceneList = localSceneList;\n    },\n\n    // 保存场景列表到 localStorage\n    saveSceneListToStorage() {\n      if (this.useLocalStorage) {\n        localStorage.setItem(this.storageKey, JSON.stringify(this.sceneList));\n      }\n    },\n\n    // 更新自定义场景列表\n    updateCustomSceneList() {\n      this.sceneCustomList = this.sceneList.filter((item) => !item.system);\n    },\n\n    // 使用默认场景\n    useDefaultScene() {\n      let defaultScene = this.sceneList.find((item) => item.default === true);\n      if (!defaultScene && this.sceneList.length > 0) {\n        defaultScene = this.sceneList[0];\n      }\n      if (defaultScene) {\n        this.currentSceneIndex = this.sceneList.findIndex((item) => item.id === defaultScene.id);\n        this.useScene(defaultScene);\n      }\n    },\n\n    // 使用场景\n    useScene(scene) {\n      this.$emit(\'scene-change\', scene);\n    },\n\n    // 处理场景切换\n    handleSceneChange(index) {\n      this.currentSceneIndex = index;\n      if (this.sceneList[index]) {\n        this.useScene(this.sceneList[index]);\n      }\n    },\n\n    // 生成UUID\n    getUUID(prefix) {\n      const s = [];\n      const hexDigits = \'0123456789abcdef\';\n      for (let i = 0; i < 10; i++) {\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n      }\n      s[14] = \'4\';\n      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n      const uuid = s.join(\'\');\n      return prefix + \'-\' + uuid;\n    },\n\n    // 准备新建场景数据\n    prepareCreateSceneData() {\n      this.createItem = {\n        name: \'\',\n        form: { ...this.initFormData },\n        id: this.getUUID(\'scene\'),\n      };\n    },\n\n    // 打开新建场景对话框\n    openCreateSceneDialog() {\n      this.prepareCreateSceneData();\n      this.isCreateSceneDialogShown = true;\n      this.isSceneOperationShown = false;\n    },\n\n    // 关闭新建场景对话框\n    closeCreateSceneDialog() {\n      this.isCreateSceneDialogShown = false;\n    },\n\n    // 验证场景名称\n    validateSceneName() {\n      const newSceneName = this.createItem.name;\n      if (!newSceneName) {\n        throw new Error(\'场景名称不能为空\');\n      }\n      const nameExist = this.sceneList.some((item) => item.name === newSceneName);\n      if (nameExist) {\n        throw new Error(\'场景名称重复\');\n      }\n    },\n\n    // 创建场景\n    doCreateScene() {\n      try {\n        this.validateSceneName();\n        const newScene = { ...this.createItem };\n        this.sceneList.push(newScene);\n        this.saveSceneListToStorage();\n        this.updateCustomSceneList();\n        this.closeCreateSceneDialog();\n\n        // 使用新创建的场景\n        this.currentSceneIndex = this.sceneList.length - 1;\n        this.useScene(newScene);\n\n        this.$emit(\'scene-created\', newScene);\n      } catch (error) {\n        this.$emit(\'error\', error.message);\n      }\n    },\n\n    // 打开场景列表对话框\n    openSceneListDialog() {\n      this.isSceneListShown = true;\n      this.isSceneOperationShown = false;\n    },\n\n    // 关闭场景列表对话框\n    closeSceneListDialog() {\n      this.isSceneListShown = false;\n    },\n\n    // 切换到新建对话框\n    changeToCreateDialog() {\n      this.closeSceneListDialog();\n      this.openCreateSceneDialog();\n    },\n\n    // 删除场景\n    doDeleteScene(item) {\n      this.deleteItem = { ...item };\n\n      // 如果删除的是当前场景，切换到默认场景\n      if (this.sceneList[this.currentSceneIndex]?.id === item.id) {\n        this.useDefaultScene();\n      }\n\n      this.sceneList = this.sceneList.filter((scene) => scene.id !== item.id);\n      this.saveSceneListToStorage();\n      this.updateCustomSceneList();\n\n      this.$emit(\'scene-deleted\', item);\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n.jh-scene {\n  display: inline-block;\n}\n\n.scene-manage >>> .scene-item:not(:last-child) {\n  border-bottom: 1px solid #eeeeee;\n}\n\n.jh-input-label {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.6);\n  display: block;\n  margin-bottom: 8px;\n}\n</style>\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/runtime/componentNormalizer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function renderWithStyleInjection(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options}}__webpack_require__.d(__webpack_exports__,{A:()=>normalizeComponent})},"./src/components/JhScene/JhScene.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>JhScene_stories,单个场景:()=>单个场景,基础示例:()=>基础示例,多场景:()=>多场景,带表单插槽:()=>带表单插槽,无操作按钮:()=>无操作按钮,本地存储:()=>本地存储});function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const JhScene_JhScenevue_type_script_lang_js={name:"JhScene",props:{initFormData:{type:Object,default:function _default(){return{}}},storageKey:{type:String,default:"jh-scene-list"},scenes:{type:Array,default:function _default(){return[]}},currentSceneId:{type:String,default:null},showActionBtn:{type:Boolean,default:!0},useLocalStorage:{type:Boolean,default:!1}},data:function data(){return{validationRules:{requireRules:[function(v){return!!v||"此项必填"}]},sceneList:[],sceneCustomList:[],deleteItem:{},createItem:{name:"",form:{}},isCreateSceneDialogShown:!1,isSceneOperationShown:!1,isSceneListShown:!1,currentSceneIndex:0}},computed:{hasFormSlot:function hasFormSlot(){return!!this.$scopedSlots.form}},watch:{scenes:{handler:function handler(newVal){newVal&&newVal.length>0&&(this.sceneList=_toConsumableArray(newVal),this.updateCustomSceneList())},immediate:!0}},created:function created(){this.initSceneList()},methods:{initSceneList:function initSceneList(){this.useLocalStorage?this.getSceneListFromStorage():this.scenes&&this.scenes.length>0&&(this.sceneList=_toConsumableArray(this.scenes)),this.updateCustomSceneList(),this.useDefaultScene()},getSceneListFromStorage:function getSceneListFromStorage(){var localSceneList=localStorage.getItem(this.storageKey);null==localSceneList&&(localSceneList="[]"),localSceneList=JSON.parse(localSceneList),this.sceneList=localSceneList},saveSceneListToStorage:function saveSceneListToStorage(){this.useLocalStorage&&localStorage.setItem(this.storageKey,JSON.stringify(this.sceneList))},updateCustomSceneList:function updateCustomSceneList(){this.sceneCustomList=this.sceneList.filter(function(item){return!item.system})},useDefaultScene:function useDefaultScene(){var defaultScene=this.sceneList.find(function(item){return!0===item.default});!defaultScene&&this.sceneList.length>0&&(defaultScene=this.sceneList[0]),defaultScene&&(this.currentSceneIndex=this.sceneList.findIndex(function(item){return item.id===defaultScene.id}),this.useScene(defaultScene))},useScene:function useScene(scene){this.$emit("scene-change",scene)},handleSceneChange:function handleSceneChange(index){this.currentSceneIndex=index,this.sceneList[index]&&this.useScene(this.sceneList[index])},getUUID:function getUUID(prefix){for(var s=[],i=0;i<10;i++)s[i]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return s[14]="4",s[19]="0123456789abcdef".substr(3&s[19]|8,1),prefix+"-"+s.join("")},prepareCreateSceneData:function prepareCreateSceneData(){this.createItem={name:"",form:_objectSpread({},this.initFormData),id:this.getUUID("scene")}},openCreateSceneDialog:function openCreateSceneDialog(){this.prepareCreateSceneData(),this.isCreateSceneDialogShown=!0,this.isSceneOperationShown=!1},closeCreateSceneDialog:function closeCreateSceneDialog(){this.isCreateSceneDialogShown=!1},validateSceneName:function validateSceneName(){var newSceneName=this.createItem.name;if(!newSceneName)throw new Error("场景名称不能为空");if(this.sceneList.some(function(item){return item.name===newSceneName}))throw new Error("场景名称重复")},doCreateScene:function doCreateScene(){try{this.validateSceneName();var newScene=_objectSpread({},this.createItem);this.sceneList.push(newScene),this.saveSceneListToStorage(),this.updateCustomSceneList(),this.closeCreateSceneDialog(),this.currentSceneIndex=this.sceneList.length-1,this.useScene(newScene),this.$emit("scene-created",newScene)}catch(error){this.$emit("error",error.message)}},openSceneListDialog:function openSceneListDialog(){this.isSceneListShown=!0,this.isSceneOperationShown=!1},closeSceneListDialog:function closeSceneListDialog(){this.isSceneListShown=!1},changeToCreateDialog:function changeToCreateDialog(){this.closeSceneListDialog(),this.openCreateSceneDialog()},doDeleteScene:function doDeleteScene(item){var _this$sceneList$this$;this.deleteItem=_objectSpread({},item),(null===(_this$sceneList$this$=this.sceneList[this.currentSceneIndex])||void 0===_this$sceneList$this$?void 0:_this$sceneList$this$.id)===item.id&&this.useDefaultScene(),this.sceneList=this.sceneList.filter(function(scene){return scene.id!==item.id}),this.saveSceneListToStorage(),this.updateCustomSceneList(),this.$emit("scene-deleted",item)}}};var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/.pnpm/style-loader@3.3.4_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),JhScenevue_type_style_index_0_id_50ab6d9d_prod_scoped_true_lang_css=__webpack_require__("./node_modules/.pnpm/css-loader@6.11.0_webpack@5.102.1_@swc+core@1.13.5_esbuild@0.18.20_webpack-cli@5.1.4_webpack@5.102.1__/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@5.9.3_webpack@5.102.1_@swc+core@1.13.5_es_397d8c6b9860a09288c2bf2dc9668002/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-11.use[2]!./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/JhScene/JhScene.vue?vue&type=style&index=0&id=50ab6d9d&prod&scoped=true&lang=css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(JhScenevue_type_style_index_0_id_50ab6d9d_prod_scoped_true_lang_css.A,options);JhScenevue_type_style_index_0_id_50ab6d9d_prod_scoped_true_lang_css.A&&JhScenevue_type_style_index_0_id_50ab6d9d_prod_scoped_true_lang_css.A.locals&&JhScenevue_type_style_index_0_id_50ab6d9d_prod_scoped_true_lang_css.A.locals;const __vuedocgen_export_0=(0,__webpack_require__("./node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_css-loader@6.11.0_webpack@5.102.1_@swc+core_acb67284a4be633df1055a74f961e4b4/node_modules/vue-loader/lib/runtime/componentNormalizer.js").A)(JhScene_JhScenevue_type_script_lang_js,function render(){var _vm=this,_c=_vm._self._c;return _c("div",{staticClass:"jh-scene"},[_c("v-row",{staticClass:"ma-0"},[_c("v-btn-toggle",{class:{"mr-md-2":_vm.showActionBtn},attrs:{value:_vm.currentSceneIndex,mandatory:"",dense:"",color:"success"},on:{change:_vm.handleSceneChange}},_vm._l(_vm.sceneList,function(scene,index){return _c("v-btn",{key:index,attrs:{small:""}},[_vm._v(_vm._s(scene.name))])}),1),_vm._v(" "),_vm.showActionBtn?_c("v-menu",{attrs:{"offset-y":""},scopedSlots:_vm._u([{key:"activator",fn:function fn(_ref){var on=_ref.on,attrs=_ref.attrs;return[_c("v-btn-toggle",{attrs:{dense:"",color:"white"}},[_c("v-btn",_vm._g(_vm._b({attrs:{small:""}},"v-btn",attrs,!1),on),[_c("v-icon",{staticClass:"mx-0",attrs:{small:""}},[_vm._v("mdi-chevron-down")])],1)],1)]}}],null,!1,1121844081),model:{value:_vm.isSceneOperationShown,callback:function callback($$v){_vm.isSceneOperationShown=$$v},expression:"isSceneOperationShown"}},[_vm._v(" "),_c("v-list",{staticClass:"pb-0",attrs:{dense:""}},[_c("v-list-item",{on:{click:_vm.openCreateSceneDialog}},[_c("v-list-item-title",{staticClass:"success--text"},[_c("v-icon",{staticClass:"success--text",attrs:{small:""}},[_vm._v("mdi-plus")]),_vm._v(" "),_c("span",{staticClass:"success--text"},[_vm._v("新建场景")])],1)],1),_vm._v(" "),_c("v-list-item",{on:{click:_vm.openSceneListDialog}},[_c("v-list-item-title",{staticClass:"success--text"},[_c("v-icon",{staticClass:"success--text",attrs:{small:""}},[_vm._v("mdi-cog-outline")]),_vm._v(" "),_c("span",{staticClass:"success--text"},[_vm._v("场景管理")])],1)],1)],1)],1):_vm._e()],1),_vm._v(" "),_c("v-dialog",{attrs:{persistent:"",width:"360px"},model:{value:_vm.isCreateSceneDialogShown,callback:function callback($$v){_vm.isCreateSceneDialogShown=$$v},expression:"isCreateSceneDialogShown"}},[_c("v-card",[_c("v-card-title",[_c("v-row",{staticClass:"ma-0"},[_c("div",{staticStyle:{"font-size":"16px"}},[_vm._v("新建场景")]),_vm._v(" "),_c("v-spacer"),_vm._v(" "),_c("v-btn",{staticClass:"elevation-0",attrs:{fab:"","x-small":""},on:{click:_vm.closeCreateSceneDialog}},[_c("v-icon",{attrs:{dark:""}},[_vm._v("mdi-close")])],1)],1)],1),_vm._v(" "),_c("v-card-text",[_c("div",{staticClass:"mb-2"},[_c("span",{staticClass:"jh-input-label"},[_vm._v("场景名称")]),_vm._v(" "),_c("v-text-field",{staticClass:"jh-v-input",attrs:{dense:"","single-line":"",filled:"","hide-details":"",placeholder:"场景名称，最多10个字符",rules:_vm.validationRules.requireRules},model:{value:_vm.createItem.name,callback:function callback($$v){_vm.$set(_vm.createItem,"name",$$v)},expression:"createItem.name"}})],1),_vm._v(" "),_vm.hasFormSlot?_c("div",{staticClass:"mb-2"},[_c("span",{staticClass:"jh-input-label"},[_vm._v("筛选条件")]),_vm._v(" "),_vm._t("form",null,{form:_vm.createItem.form})],2):_vm._e()]),_vm._v(" "),_c("v-card-actions",{staticClass:"pb-4"},[_c("v-row",{staticClass:"ma-0 pa-6 pt-2 justify-end"},[_c("v-btn",{staticClass:"ml-2",attrs:{small:"",color:"success"},on:{click:_vm.doCreateScene}},[_vm._v("保存")]),_vm._v(" "),_c("v-btn",{staticClass:"ml-2",attrs:{small:""},on:{click:_vm.closeCreateSceneDialog}},[_vm._v("取消")])],1)],1)],1)],1),_vm._v(" "),_c("v-dialog",{attrs:{persistent:"",width:"360px"},model:{value:_vm.isSceneListShown,callback:function callback($$v){_vm.isSceneListShown=$$v},expression:"isSceneListShown"}},[_c("v-card",{staticClass:"scene-manage"},[_c("v-card-title",[_c("v-row",{staticClass:"ma-0"},[_c("div",{staticStyle:{"font-size":"16px"}},[_vm._v("场景管理")]),_vm._v(" "),_c("v-spacer"),_vm._v(" "),_c("v-btn",{staticClass:"elevation-0",attrs:{fab:"","x-small":""},on:{click:_vm.closeSceneListDialog}},[_c("v-icon",{attrs:{dark:""}},[_vm._v("mdi-close")])],1)],1)],1),_vm._v(" "),_c("v-card-text",{staticClass:"pb-2"},[_c("v-card",{attrs:{outlined:""}},[_c("v-list",{staticClass:"scene-list",attrs:{dense:""}},[_vm.sceneCustomList&&_vm.sceneCustomList.length?_vm._l(_vm.sceneCustomList,function(item){return _c("v-list-item",{key:item.id,staticClass:"scene-item px-2"},[_c("v-list-item-content",[_vm._v(_vm._s(item.name))]),_vm._v(" "),_c("v-list-item-icon",{on:{click:function click($event){return $event.stopPropagation(),_vm.doDeleteScene(item)}}},[_c("v-icon",{attrs:{size:"22"}},[_vm._v("mdi-delete")])],1)],1)}):[_c("div",{staticClass:"text-center grey--text",staticStyle:{"line-height":"100px"}},[_vm._v("暂无自定义场景")])]],2)],1)],1),_vm._v(" "),_c("v-card-actions",{staticClass:"pb-4"},[_c("v-row",{staticClass:"ma-0 pa-6 pt-2 justify-end"},[_c("v-btn",{staticClass:"ml-2",attrs:{small:"",color:"success"},on:{click:_vm.changeToCreateDialog}},[_vm._v("新建场景")]),_vm._v(" "),_c("v-btn",{staticClass:"ml-2",attrs:{small:""},on:{click:_vm.closeSceneListDialog}},[_vm._v("取消")])],1)],1)],1)],1)],1)},[],!1,null,"50ab6d9d",null).exports,JhScene=__vuedocgen_export_0;function JhScene_stories_typeof(o){return JhScene_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},JhScene_stories_typeof(o)}function JhScene_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function JhScene_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?JhScene_stories_ownKeys(Object(t),!0).forEach(function(r){JhScene_stories_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):JhScene_stories_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function JhScene_stories_defineProperty(e,r,t){return(r=function JhScene_stories_toPropertyKey(t){var i=function JhScene_stories_toPrimitive(t,r){if("object"!=JhScene_stories_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=JhScene_stories_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==JhScene_stories_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}__vuedocgen_export_0.__docgenInfo={displayName:"JhScene",exportName:"default",description:"",tags:{},props:[{name:"initFormData",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"storageKey",type:{name:"string"},defaultValue:{func:!1,value:"'jh-scene-list'"}},{name:"scenes",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"currentSceneId",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"showActionBtn",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"useLocalStorage",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"scene-change",type:{names:["undefined"]}},{name:"scene-created",type:{names:["undefined"]}},{name:"error",type:{names:["undefined"]}},{name:"scene-deleted",type:{names:["undefined"]}}],slots:[{name:"form",scoped:!0,bindings:[{name:"form",title:"binding"}]}],sourceFiles:["/Users/zhongchubing/Documents/work/jianghujs/jianghu-ui/src/components/JhScene/JhScene.vue"]};const JhScene_stories={title:"基础组件/JhScene - 场景管理",component:JhScene,tags:["autodocs"],argTypes:{showActionBtn:{control:"boolean",description:"是否显示操作按钮（新建场景、场景管理）"},useLocalStorage:{control:"boolean",description:"是否使用 localStorage 持久化场景数据"},storageKey:{control:"text",description:"localStorage 存储的键名"}},parameters:{storySource:{source:"import JhScene from './JhScene.vue';\n\n// 示例场景数据\nconst sampleScenes = [\n  {\n    id: 'all',\n    name: '全部',\n    default: true,\n    system: true,\n    form: {},\n  },\n  {\n    id: 'active',\n    name: '活跃用户',\n    system: true,\n    form: {\n      status: 'active',\n    },\n  },\n  {\n    id: 'inactive',\n    name: '不活跃',\n    system: true,\n    form: {\n      status: 'inactive',\n    },\n  },\n];\n\nexport default {\n  title: '基础组件/JhScene - 场景管理',\n  component: JhScene,\n  tags: ['autodocs'],\n  argTypes: {\n    showActionBtn: {\n      control: 'boolean',\n      description: '是否显示操作按钮（新建场景、场景管理）',\n    },\n    useLocalStorage: {\n      control: 'boolean',\n      description: '是否使用 localStorage 持久化场景数据',\n    },\n    storageKey: {\n      control: 'text',\n      description: 'localStorage 存储的键名',\n    },\n  },\n  parameters: {\n    docs: {\n      description: {\n        component: `\n\n场景管理组件，用于快速切换不同的数据筛选场景。\n\n## 功能特性\n\n- 场景快速切换\n- 自定义场景创建\n- 场景管理（删除）\n- 支持 localStorage 持久化\n- 支持表单插槽自定义筛选条件\n\n## 使用场景\n\n适用于需要频繁切换筛选条件的列表页面，如：\n- 用户列表（全部、活跃、待审核等）\n- 订单列表（全部、待付款、待发货等）\n- 工单列表（全部、处理中、已完成等）\n\n## 事件\n\n- \\`scene-change\\`: 场景切换时触发，参数为场景对象\n- \\`scene-created\\`: 创建场景时触发，参数为新场景对象\n- \\`scene-deleted\\`: 删除场景时触发，参数为被删除的场景对象\n- \\`error\\`: 操作出错时触发，参数为错误消息\n\n## 插槽\n\n- \\`form\\`: 自定义筛选条件表单，作用域插槽，可访问 \\`form\\` 对象\n        `,\n      },\n    },\n  },\n};\n\n// 基础示例\nexport const 基础示例 = {\n  args: {\n    scenes: sampleScenes,\n    showActionBtn: true,\n    useLocalStorage: false,\n    storageKey: 'jh-scene-list',\n    initFormData: {},\n  },\n  render: (args) => ({\n    components: { JhScene },\n    data() {\n      return {\n        args,\n        currentScene: null,\n      };\n    },\n    template: `\n      <div>\n        <jh-scene\n          v-bind=\"args\"\n          @scene-change=\"handleSceneChange\"\n          @scene-created=\"handleSceneCreated\"\n          @scene-deleted=\"handleSceneDeleted\"\n          @error=\"handleError\"\n        />\n        <v-card class=\"mt-4\" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    `,\n    methods: {\n      handleSceneChange(scene) {\n        console.log('Scene changed:', scene);\n        this.currentScene = scene;\n      },\n      handleSceneCreated(scene) {\n        console.log('Scene created:', scene);\n        alert('场景创建成功: ' + scene.name);\n      },\n      handleSceneDeleted(scene) {\n        console.log('Scene deleted:', scene);\n        alert('场景已删除: ' + scene.name);\n      },\n      handleError(message) {\n        console.error('Error:', message);\n        alert('错误: ' + message);\n      },\n    },\n  }),\n};\n\n// 带表单插槽\nexport const 带表单插槽 = {\n  args: {\n    ...基础示例.args,\n    initFormData: {\n      status: '',\n      keyword: '',\n    },\n  },\n  render: (args) => ({\n    components: { JhScene },\n    data() {\n      return {\n        args,\n        currentScene: null,\n      };\n    },\n    template: `\n      <div>\n        <jh-scene\n          v-bind=\"args\"\n          @scene-change=\"handleSceneChange\"\n          @scene-created=\"handleSceneCreated\"\n          @scene-deleted=\"handleSceneDeleted\"\n          @error=\"handleError\"\n        >\n          <template v-slot:form=\"{ form }\">\n            <v-select\n              v-model=\"form.status\"\n              :items=\"statusOptions\"\n              label=\"用户状态\"\n              dense\n              outlined\n              hide-details\n              class=\"mb-2\"\n            ></v-select>\n            <v-text-field\n              v-model=\"form.keyword\"\n              label=\"关键词\"\n              dense\n              outlined\n              hide-details\n              placeholder=\"输入搜索关键词\"\n            ></v-text-field>\n          </template>\n        </jh-scene>\n        <v-card class=\"mt-4\" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    `,\n    computed: {\n      statusOptions() {\n        return [\n          { text: '全部', value: '' },\n          { text: '活跃', value: 'active' },\n          { text: '不活跃', value: 'inactive' },\n          { text: '待审核', value: 'pending' },\n        ];\n      },\n    },\n    methods: {\n      handleSceneChange(scene) {\n        console.log('Scene changed:', scene);\n        this.currentScene = scene;\n      },\n      handleSceneCreated(scene) {\n        console.log('Scene created:', scene);\n        alert('场景创建成功: ' + scene.name);\n      },\n      handleSceneDeleted(scene) {\n        console.log('Scene deleted:', scene);\n        alert('场景已删除: ' + scene.name);\n      },\n      handleError(message) {\n        console.error('Error:', message);\n        alert('错误: ' + message);\n      },\n    },\n  }),\n};\n\n// 无操作按钮\nexport const 无操作按钮 = {\n  args: {\n    ...基础示例.args,\n    showActionBtn: false,\n  },\n  render: 基础示例.render,\n};\n\n// 本地存储\nexport const 本地存储 = {\n  args: {\n    ...基础示例.args,\n    useLocalStorage: true,\n    storageKey: 'demo-scene-list',\n  },\n  render: (args) => ({\n    components: { JhScene },\n    data() {\n      return {\n        args,\n        currentScene: null,\n      };\n    },\n    template: `\n      <div>\n        <v-alert type=\"info\" dense text class=\"mb-4\">\n          <strong>提示：</strong>此示例使用 localStorage 持久化场景数据，刷新页面后场景数据不会丢失。\n        </v-alert>\n        <jh-scene\n          v-bind=\"args\"\n          @scene-change=\"handleSceneChange\"\n          @scene-created=\"handleSceneCreated\"\n          @scene-deleted=\"handleSceneDeleted\"\n          @error=\"handleError\"\n        />\n        <v-card class=\"mt-4\" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    `,\n    methods: {\n      handleSceneChange(scene) {\n        console.log('Scene changed:', scene);\n        this.currentScene = scene;\n      },\n      handleSceneCreated(scene) {\n        console.log('Scene created:', scene);\n        alert('场景创建成功: ' + scene.name);\n      },\n      handleSceneDeleted(scene) {\n        console.log('Scene deleted:', scene);\n        alert('场景已删除: ' + scene.name);\n      },\n      handleError(message) {\n        console.error('Error:', message);\n        alert('错误: ' + message);\n      },\n    },\n  }),\n};\n\n// 多场景\nexport const 多场景 = {\n  args: {\n    scenes: [\n      { id: 'all', name: '全部', default: true, system: true, form: {} },\n      { id: 'new', name: '最新', system: true, form: { sort: 'date_desc' } },\n      { id: 'hot', name: '热门', system: true, form: { sort: 'views_desc' } },\n      { id: 'pending', name: '待审核', system: true, form: { status: 'pending' } },\n      { id: 'approved', name: '已通过', system: true, form: { status: 'approved' } },\n      { id: 'rejected', name: '已拒绝', system: true, form: { status: 'rejected' } },\n      { id: 'draft', name: '草稿', system: true, form: { status: 'draft' } },\n    ],\n    showActionBtn: true,\n    useLocalStorage: false,\n  },\n  render: 基础示例.render,\n};\n\n// 单个场景\nexport const 单个场景 = {\n  args: {\n    scenes: [{ id: 'all', name: '全部数据', default: true, system: true, form: {} }],\n    showActionBtn: true,\n    useLocalStorage: false,\n  },\n  render: 基础示例.render,\n};\n",locationsMap:{基础示例:{startLoc:{col:20,line:87},endLoc:{col:1,line:139},startBody:{col:20,line:87},endBody:{col:1,line:139}},带表单插槽:{startLoc:{col:21,line:142},endLoc:{col:1,line:224},startBody:{col:21,line:142},endBody:{col:1,line:224}},无操作按钮:{startLoc:{col:21,line:227},endLoc:{col:1,line:233},startBody:{col:21,line:227},endBody:{col:1,line:233}},本地存储:{startLoc:{col:20,line:236},endLoc:{col:1,line:289},startBody:{col:20,line:236},endBody:{col:1,line:289}},多场景:{startLoc:{col:19,line:292},endLoc:{col:1,line:307},startBody:{col:19,line:292},endBody:{col:1,line:307}},单个场景:{startLoc:{col:20,line:310},endLoc:{col:1,line:317},startBody:{col:20,line:310},endBody:{col:1,line:317}}}},docs:{description:{component:"\n\n场景管理组件，用于快速切换不同的数据筛选场景。\n\n## 功能特性\n\n- 场景快速切换\n- 自定义场景创建\n- 场景管理（删除）\n- 支持 localStorage 持久化\n- 支持表单插槽自定义筛选条件\n\n## 使用场景\n\n适用于需要频繁切换筛选条件的列表页面，如：\n- 用户列表（全部、活跃、待审核等）\n- 订单列表（全部、待付款、待发货等）\n- 工单列表（全部、处理中、已完成等）\n\n## 事件\n\n- `scene-change`: 场景切换时触发，参数为场景对象\n- `scene-created`: 创建场景时触发，参数为新场景对象\n- `scene-deleted`: 删除场景时触发，参数为被删除的场景对象\n- `error`: 操作出错时触发，参数为错误消息\n\n## 插槽\n\n- `form`: 自定义筛选条件表单，作用域插槽，可访问 `form` 对象\n        "}}}};var 基础示例={args:{scenes:[{id:"all",name:"全部",default:!0,system:!0,form:{}},{id:"active",name:"活跃用户",system:!0,form:{status:"active"}},{id:"inactive",name:"不活跃",system:!0,form:{status:"inactive"}}],showActionBtn:!0,useLocalStorage:!1,storageKey:"jh-scene-list",initFormData:{}},render:function render(args){return{components:{JhScene},data:function data(){return{args,currentScene:null}},template:'\n      <div>\n        <jh-scene\n          v-bind="args"\n          @scene-change="handleSceneChange"\n          @scene-created="handleSceneCreated"\n          @scene-deleted="handleSceneDeleted"\n          @error="handleError"\n        />\n        <v-card class="mt-4" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    ',methods:{handleSceneChange:function handleSceneChange(scene){console.log("Scene changed:",scene),this.currentScene=scene},handleSceneCreated:function handleSceneCreated(scene){console.log("Scene created:",scene),alert("场景创建成功: "+scene.name)},handleSceneDeleted:function handleSceneDeleted(scene){console.log("Scene deleted:",scene),alert("场景已删除: "+scene.name)},handleError:function handleError(message){console.error("Error:",message),alert("错误: "+message)}}}}},带表单插槽={args:JhScene_stories_objectSpread(JhScene_stories_objectSpread({},基础示例.args),{},{initFormData:{status:"",keyword:""}}),render:function render(args){return{components:{JhScene},data:function data(){return{args,currentScene:null}},template:'\n      <div>\n        <jh-scene\n          v-bind="args"\n          @scene-change="handleSceneChange"\n          @scene-created="handleSceneCreated"\n          @scene-deleted="handleSceneDeleted"\n          @error="handleError"\n        >\n          <template v-slot:form="{ form }">\n            <v-select\n              v-model="form.status"\n              :items="statusOptions"\n              label="用户状态"\n              dense\n              outlined\n              hide-details\n              class="mb-2"\n            ></v-select>\n            <v-text-field\n              v-model="form.keyword"\n              label="关键词"\n              dense\n              outlined\n              hide-details\n              placeholder="输入搜索关键词"\n            ></v-text-field>\n          </template>\n        </jh-scene>\n        <v-card class="mt-4" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    ',computed:{statusOptions:function statusOptions(){return[{text:"全部",value:""},{text:"活跃",value:"active"},{text:"不活跃",value:"inactive"},{text:"待审核",value:"pending"}]}},methods:{handleSceneChange:function handleSceneChange(scene){console.log("Scene changed:",scene),this.currentScene=scene},handleSceneCreated:function handleSceneCreated(scene){console.log("Scene created:",scene),alert("场景创建成功: "+scene.name)},handleSceneDeleted:function handleSceneDeleted(scene){console.log("Scene deleted:",scene),alert("场景已删除: "+scene.name)},handleError:function handleError(message){console.error("Error:",message),alert("错误: "+message)}}}}},无操作按钮={args:JhScene_stories_objectSpread(JhScene_stories_objectSpread({},基础示例.args),{},{showActionBtn:!1}),render:基础示例.render},本地存储={args:JhScene_stories_objectSpread(JhScene_stories_objectSpread({},基础示例.args),{},{useLocalStorage:!0,storageKey:"demo-scene-list"}),render:function render(args){return{components:{JhScene},data:function data(){return{args,currentScene:null}},template:'\n      <div>\n        <v-alert type="info" dense text class="mb-4">\n          <strong>提示：</strong>此示例使用 localStorage 持久化场景数据，刷新页面后场景数据不会丢失。\n        </v-alert>\n        <jh-scene\n          v-bind="args"\n          @scene-change="handleSceneChange"\n          @scene-created="handleSceneCreated"\n          @scene-deleted="handleSceneDeleted"\n          @error="handleError"\n        />\n        <v-card class="mt-4" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    ',methods:{handleSceneChange:function handleSceneChange(scene){console.log("Scene changed:",scene),this.currentScene=scene},handleSceneCreated:function handleSceneCreated(scene){console.log("Scene created:",scene),alert("场景创建成功: "+scene.name)},handleSceneDeleted:function handleSceneDeleted(scene){console.log("Scene deleted:",scene),alert("场景已删除: "+scene.name)},handleError:function handleError(message){console.error("Error:",message),alert("错误: "+message)}}}}},多场景={args:{scenes:[{id:"all",name:"全部",default:!0,system:!0,form:{}},{id:"new",name:"最新",system:!0,form:{sort:"date_desc"}},{id:"hot",name:"热门",system:!0,form:{sort:"views_desc"}},{id:"pending",name:"待审核",system:!0,form:{status:"pending"}},{id:"approved",name:"已通过",system:!0,form:{status:"approved"}},{id:"rejected",name:"已拒绝",system:!0,form:{status:"rejected"}},{id:"draft",name:"草稿",system:!0,form:{status:"draft"}}],showActionBtn:!0,useLocalStorage:!1},render:基础示例.render},单个场景={args:{scenes:[{id:"all",name:"全部数据",default:!0,system:!0,form:{}}],showActionBtn:!0,useLocalStorage:!1},render:基础示例.render};基础示例.parameters={...基础示例.parameters,docs:{...基础示例.parameters?.docs,source:{originalSource:"{\n  args: {\n    scenes: sampleScenes,\n    showActionBtn: true,\n    useLocalStorage: false,\n    storageKey: 'jh-scene-list',\n    initFormData: {}\n  },\n  render: args => ({\n    components: {\n      JhScene\n    },\n    data() {\n      return {\n        args,\n        currentScene: null\n      };\n    },\n    template: `\n      <div>\n        <jh-scene\n          v-bind=\"args\"\n          @scene-change=\"handleSceneChange\"\n          @scene-created=\"handleSceneCreated\"\n          @scene-deleted=\"handleSceneDeleted\"\n          @error=\"handleError\"\n        />\n        <v-card class=\"mt-4\" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    `,\n    methods: {\n      handleSceneChange(scene) {\n        console.log('Scene changed:', scene);\n        this.currentScene = scene;\n      },\n      handleSceneCreated(scene) {\n        console.log('Scene created:', scene);\n        alert('场景创建成功: ' + scene.name);\n      },\n      handleSceneDeleted(scene) {\n        console.log('Scene deleted:', scene);\n        alert('场景已删除: ' + scene.name);\n      },\n      handleError(message) {\n        console.error('Error:', message);\n        alert('错误: ' + message);\n      }\n    }\n  })\n}",...基础示例.parameters?.docs?.source}}},带表单插槽.parameters={...带表单插槽.parameters,docs:{...带表单插槽.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...基础示例.args,\n    initFormData: {\n      status: '',\n      keyword: ''\n    }\n  },\n  render: args => ({\n    components: {\n      JhScene\n    },\n    data() {\n      return {\n        args,\n        currentScene: null\n      };\n    },\n    template: `\n      <div>\n        <jh-scene\n          v-bind=\"args\"\n          @scene-change=\"handleSceneChange\"\n          @scene-created=\"handleSceneCreated\"\n          @scene-deleted=\"handleSceneDeleted\"\n          @error=\"handleError\"\n        >\n          <template v-slot:form=\"{ form }\">\n            <v-select\n              v-model=\"form.status\"\n              :items=\"statusOptions\"\n              label=\"用户状态\"\n              dense\n              outlined\n              hide-details\n              class=\"mb-2\"\n            ></v-select>\n            <v-text-field\n              v-model=\"form.keyword\"\n              label=\"关键词\"\n              dense\n              outlined\n              hide-details\n              placeholder=\"输入搜索关键词\"\n            ></v-text-field>\n          </template>\n        </jh-scene>\n        <v-card class=\"mt-4\" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    `,\n    computed: {\n      statusOptions() {\n        return [{\n          text: '全部',\n          value: ''\n        }, {\n          text: '活跃',\n          value: 'active'\n        }, {\n          text: '不活跃',\n          value: 'inactive'\n        }, {\n          text: '待审核',\n          value: 'pending'\n        }];\n      }\n    },\n    methods: {\n      handleSceneChange(scene) {\n        console.log('Scene changed:', scene);\n        this.currentScene = scene;\n      },\n      handleSceneCreated(scene) {\n        console.log('Scene created:', scene);\n        alert('场景创建成功: ' + scene.name);\n      },\n      handleSceneDeleted(scene) {\n        console.log('Scene deleted:', scene);\n        alert('场景已删除: ' + scene.name);\n      },\n      handleError(message) {\n        console.error('Error:', message);\n        alert('错误: ' + message);\n      }\n    }\n  })\n}",...带表单插槽.parameters?.docs?.source}}},无操作按钮.parameters={...无操作按钮.parameters,docs:{...无操作按钮.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...基础示例.args,\n    showActionBtn: false\n  },\n  render: 基础示例.render\n}",...无操作按钮.parameters?.docs?.source}}},本地存储.parameters={...本地存储.parameters,docs:{...本地存储.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...基础示例.args,\n    useLocalStorage: true,\n    storageKey: 'demo-scene-list'\n  },\n  render: args => ({\n    components: {\n      JhScene\n    },\n    data() {\n      return {\n        args,\n        currentScene: null\n      };\n    },\n    template: `\n      <div>\n        <v-alert type=\"info\" dense text class=\"mb-4\">\n          <strong>提示：</strong>此示例使用 localStorage 持久化场景数据，刷新页面后场景数据不会丢失。\n        </v-alert>\n        <jh-scene\n          v-bind=\"args\"\n          @scene-change=\"handleSceneChange\"\n          @scene-created=\"handleSceneCreated\"\n          @scene-deleted=\"handleSceneDeleted\"\n          @error=\"handleError\"\n        />\n        <v-card class=\"mt-4\" outlined>\n          <v-card-text>\n            <h4>当前场景信息：</h4>\n            <pre>{{ currentScene }}</pre>\n          </v-card-text>\n        </v-card>\n      </div>\n    `,\n    methods: {\n      handleSceneChange(scene) {\n        console.log('Scene changed:', scene);\n        this.currentScene = scene;\n      },\n      handleSceneCreated(scene) {\n        console.log('Scene created:', scene);\n        alert('场景创建成功: ' + scene.name);\n      },\n      handleSceneDeleted(scene) {\n        console.log('Scene deleted:', scene);\n        alert('场景已删除: ' + scene.name);\n      },\n      handleError(message) {\n        console.error('Error:', message);\n        alert('错误: ' + message);\n      }\n    }\n  })\n}",...本地存储.parameters?.docs?.source}}},多场景.parameters={...多场景.parameters,docs:{...多场景.parameters?.docs,source:{originalSource:"{\n  args: {\n    scenes: [{\n      id: 'all',\n      name: '全部',\n      default: true,\n      system: true,\n      form: {}\n    }, {\n      id: 'new',\n      name: '最新',\n      system: true,\n      form: {\n        sort: 'date_desc'\n      }\n    }, {\n      id: 'hot',\n      name: '热门',\n      system: true,\n      form: {\n        sort: 'views_desc'\n      }\n    }, {\n      id: 'pending',\n      name: '待审核',\n      system: true,\n      form: {\n        status: 'pending'\n      }\n    }, {\n      id: 'approved',\n      name: '已通过',\n      system: true,\n      form: {\n        status: 'approved'\n      }\n    }, {\n      id: 'rejected',\n      name: '已拒绝',\n      system: true,\n      form: {\n        status: 'rejected'\n      }\n    }, {\n      id: 'draft',\n      name: '草稿',\n      system: true,\n      form: {\n        status: 'draft'\n      }\n    }],\n    showActionBtn: true,\n    useLocalStorage: false\n  },\n  render: 基础示例.render\n}",...多场景.parameters?.docs?.source}}},单个场景.parameters={...单个场景.parameters,docs:{...单个场景.parameters?.docs,source:{originalSource:"{\n  args: {\n    scenes: [{\n      id: 'all',\n      name: '全部数据',\n      default: true,\n      system: true,\n      form: {}\n    }],\n    showActionBtn: true,\n    useLocalStorage: false\n  },\n  render: 基础示例.render\n}",...单个场景.parameters?.docs?.source}}};const __namedExportsOrder=["基础示例","带表单插槽","无操作按钮","本地存储","多场景","单个场景"]}}]);